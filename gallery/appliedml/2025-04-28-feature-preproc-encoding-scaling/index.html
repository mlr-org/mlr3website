<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Giuseppe Casalicchio">
<meta name="author" content="Essential Data Science Training GmbH">
<meta name="description" content="Create a pipeline to do feature preprocessing (one-hot-encoding, Yeo-Johnson transformation) for the german credit task.">

<title>Encoding and Scaling – mlr-org</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../images/favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-1fa5e93acb50773330e542bbd58c1e25.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 2,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 5,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">mlr-org</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-overview" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Overview</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-overview">    
        <li>
    <a class="dropdown-item" href="../../../ecosystem.html">
 <span class="dropdown-text">Ecosystem</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../dependencies.html">
 <span class="dropdown-text">Dependencies</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../tasks.html">
 <span class="dropdown-text">Tasks</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../learners.html">
 <span class="dropdown-text">Learners</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../resamplings.html">
 <span class="dropdown-text">Resamplings</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../measures.html">
 <span class="dropdown-text">Measures</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../pipeops.html">
 <span class="dropdown-text">Pipeline Operators</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../graphs.html">
 <span class="dropdown-text">Graphs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../torch_pipeops.html">
 <span class="dropdown-text">Torch Pipeline Operators</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../tuners.html">
 <span class="dropdown-text">Tuners</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../tuning_spaces.html">
 <span class="dropdown-text">Tuning Spaces</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../terminators.html">
 <span class="dropdown-text">Terminators</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../filters.html">
 <span class="dropdown-text">Feature Selection Filter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../fselectors.html">
 <span class="dropdown-text">Feature Selection Wrapper</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../book.html"> 
<span class="menu-text">Book</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../gallery.html"> 
<span class="menu-text">Gallery</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-benchmarks" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Benchmarks</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-benchmarks">    
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_mlr3.html">
 <span class="dropdown-text">mlr3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_mlr3fselect.html">
 <span class="dropdown-text">mlr3fselect</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_mlr3tuning.html">
 <span class="dropdown-text">mlr3tuning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_async.html">
 <span class="dropdown-text">mlr3tuning async</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmark_rush.html">
 <span class="dropdown-text">rush</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_paradox.html">
 <span class="dropdown-text">paradox</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../team.html"> 
<span class="menu-text">Team</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-more" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">More</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-more">    
        <li>
    <a class="dropdown-item" href="../../../support.html">
 <span class="dropdown-text">Support</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contributing.html">
 <span class="dropdown-text">Contributing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../faq.html">
 <span class="dropdown-text">Frequently Asked Questions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../blogroll.html">
 <span class="dropdown-text">Blogroll</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-rss" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-rss">    
        <li>
    <a class="dropdown-item" href="../../../gallery-all.xml">
 <span class="dropdown-text">Gallery RSS</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite"> <i class="bi bi-chat-dots" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"> <i class="bi bi-stack-overflow" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mlr-org"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Encoding and Scaling</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
  <div id="quarto-announcement" data-announcement-id="2a29a73f7e8b4063ece399653c838ff3" class="alert alert-primary hidden"><i class="bi bi-info-circle quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p>The website features runtime <a href="benchmarks/benchmarks_paradox.qmd">benchmarks</a> of the paradox package now.</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Encoding and Scaling</h1>
                  <div>
        <div class="description">
          <p>Create a pipeline to do feature preprocessing (one-hot-encoding, Yeo-Johnson transformation) for the german credit task.</p>
        </div>
      </div>
                </div>
  </div>

  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Authors</div>
      <div class="quarto-title-meta-contents">
               <p>Giuseppe Casalicchio </p>
               <p><a href="https://www.essentialds.de">Essential Data Science Training GmbH</a> </p>
            </div>
    </div>
      
    
      
    </div>
    

  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#goal" id="toc-goal" class="nav-link active" data-scroll-target="#goal">Goal</a></li>
  <li><a href="#german-credit-data" id="toc-german-credit-data" class="nav-link" data-scroll-target="#german-credit-data">German Credit Data</a>
  <ul class="collapse">
  <li><a href="#description" id="toc-description" class="nav-link" data-scroll-target="#description">Description</a></li>
  <li><a href="#data-dictionary" id="toc-data-dictionary" class="nav-link" data-scroll-target="#data-dictionary">Data Dictionary</a></li>
  </ul></li>
  <li><a href="#preprocess-a-task-with-one-hot-encoding" id="toc-preprocess-a-task-with-one-hot-encoding" class="nav-link" data-scroll-target="#preprocess-a-task-with-one-hot-encoding">1 Preprocess a Task (with One-Hot Encoding)</a></li>
  <li><a href="#create-a-simple-ml-pipeline-with-one-hot-encoding" id="toc-create-a-simple-ml-pipeline-with-one-hot-encoding" class="nav-link" data-scroll-target="#create-a-simple-ml-pipeline-with-one-hot-encoding">2 Create a Simple ML Pipeline (with One-Hot Encoding)</a></li>
  <li><a href="#feature-transformation-for-decision-trees" id="toc-feature-transformation-for-decision-trees" class="nav-link" data-scroll-target="#feature-transformation-for-decision-trees">3 Feature Transformation for Decision Trees</a>
  <ul class="collapse">
  <li><a href="#preprocessing" id="toc-preprocessing" class="nav-link" data-scroll-target="#preprocessing">3.1 Preprocessing</a></li>
  <li><a href="#visual-comparison" id="toc-visual-comparison" class="nav-link" data-scroll-target="#visual-comparison">3.2 Visual Comparison</a></li>
  </ul></li>
  <li><a href="#benchmark-k-nn-and-decison-tree-with-scaling-and-yeo-johnson-transformation" id="toc-benchmark-k-nn-and-decison-tree-with-scaling-and-yeo-johnson-transformation" class="nav-link" data-scroll-target="#benchmark-k-nn-and-decison-tree-with-scaling-and-yeo-johnson-transformation">4 Benchmark k-NN and Decison Tree with Scaling and Yeo-Johnson Transformation</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<script>
const correctHash = "590df6ddab26846343e04fff0e1d96e5614b4fa0263c86ede0cca0190e6aa6f2";   // value injected by knitr

/* ---------- reusable helper ---------- */
function b64DecodeUtf8(b64) {
  // 1) atob  -> binary-string   (bytes 0…255)
  // 2) map   -> Uint8Array      (array of bytes)
  // 3) TextDecoder('utf-8')     -> real JS string
  const bytes = Uint8Array.from(atob(b64), c => c.charCodeAt(0));
  return new TextDecoder('utf-8').decode(bytes);
}

async function sha256(txt) {
  const buf = await crypto.subtle.digest('SHA-256',
                 new TextEncoder().encode(txt));
  return Array.from(new Uint8Array(buf))
              .map(b => b.toString(16).padStart(2, '0')).join('');
}

async function unlockOne(btn) {
  const pass = prompt("Password:");
  if (!pass) return;
  if (await sha256(pass) !== correctHash) {
    alert("Wrong password"); return;
  }

  /* --- decode only the solution that belongs to THIS button --- */
  const wrapper = btn.parentElement;             // .b64-wrapper
  wrapper.querySelectorAll('.hidden-solution').forEach(div => {
    div.innerHTML = b64DecodeUtf8(div.dataset.encoded);
    div.classList.remove('hidden-solution');
    div.style.display = 'block';
  });

  /* Remove the button so the user can’t click it again */
  btn.remove();
}
</script>

<noscript>
<div style="border: 1px solid #ccc; padding: 1em; margin-top: 1em; background: #f9f9f9;">
    <strong>JavaScript is required to unlock solutions.</strong><br>
    Please enable JavaScript and reload the page,<br>
    or download the source files from
    <a href="https://github.com/mlr-org/mlr3website/" target="_blank" rel="noopener noreferrer">GitHub</a>
    and run the code locally.
  </div>
</noscript>
<section id="goal" class="level1">
<h1>Goal</h1>
<p>Learn how to do preprocessing steps directly on a mlr3 <code>Task</code> object and how to combine a preprocessing with a learner to create a simple linear ML pipeline that first applies the preprocessing and then trains a learner.</p>
</section>
<section id="german-credit-data" class="level1">
<h1>German Credit Data</h1>
<section id="description" class="level2">
<h2 class="anchored" data-anchor-id="description">Description</h2>
<ul>
<li>Data from 1973 to 1975 from a large regional bank in southern Germany classifying credits described by a set of attributes to good or bad credit risks.</li>
<li>Stratified sample of 1000 credits (300 bad ones and 700 good ones).</li>
<li>Customers with good credit risks perfectly complied with the conditions of the contract while customers with bad credit risks did not comply with the contract as required.</li>
<li>Available in <code>tsk("german_credit")</code>.</li>
</ul>
</section>
<section id="data-dictionary" class="level2">
<h2 class="anchored" data-anchor-id="data-dictionary">Data Dictionary</h2>
<p>n = 1,000 observations of credits</p>
<ul>
<li><code>credit_risk</code>: Has the credit contract been complied with (good) or not (bad)?</li>
<li><code>age</code>: Age of debtor in years</li>
<li><code>amount</code>: Credit amount in DM</li>
<li><code>credit_history</code>: History of compliance with previous or concurrent credit contracts</li>
<li><code>duration</code>: Credit duration in months</li>
<li><code>employment_duration</code>: Duration of debtor’s employment with current employer</li>
<li><code>foreign_worker</code>: Whether the debtor is a foreign worker</li>
<li><code>housing</code>: Type of housing the debtor lives in</li>
<li><code>installment_rate</code>: Credit installments as a percentage of debtor’s disposable income</li>
<li><code>job</code>: Quality of debtor’s job</li>
<li><code>number_credits</code>: Number of credits including the current one the debtor has (or had) at this bank</li>
<li><code>other_debtors</code>: Whether there is another debtor or a guarantor for the credit</li>
<li><code>other_installment_plans</code>: Installment plans from providers other than the credit-giving bank</li>
<li><code>people_liable</code>: Number of persons who financially depend on the debtor</li>
<li><code>personal_status_sex</code>: Combined information on sex and marital status</li>
<li><code>present_residence</code>: Length of time (in years) the debtor lives in the present residence</li>
<li><code>property</code>: The debtor’s most valuable property</li>
<li><code>purpose</code>: Purpose for which the credit is needed</li>
<li><code>savings</code>: Debtor’s saving</li>
<li><code>status</code>: Status of the debtor’s checking account with the bank</li>
<li><code>telephone</code>: Whether there is a telephone landline registered on the debtor’s name</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3learners)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xgboost)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>task <span class="ot">=</span> <span class="fu">tsk</span>(<span class="st">"german_credit"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<details>
<summary>
<strong>Recap: mlr3 Tasks</strong>
</summary>
<p>An <code>mlr3</code> <code>Task</code> encapsulates data with meta-information, such as the name of the target variable and the type of the learning problem (in our example this would be a <strong>classification</strong> task, where the target is a factor label with relatively few distinct values).</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>task</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;TaskClassif:german_credit&gt; (1000 x 21): German Credit
* Target: credit_risk
* Properties: twoclass
* Features (20):
  - fct (14): credit_history, employment_duration, foreign_worker, housing, job, other_debtors,
    other_installment_plans, people_liable, personal_status_sex, property, purpose, savings, status,
    telephone
  - int (3): age, amount, duration
  - ord (3): installment_rate, number_credits, present_residence</code></pre>
</div>
</div>
<p>We get a short summary of the task: It has 1000 observations and 21 columns of which 20 are features. 17 features are categorical (i.e., factors) and 3 features are integer.</p>
<p>By using the <code>$data()</code> method, we get access to the data (in the form of a <code>data.table</code>):</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(task<span class="sc">$</span><span class="fu">data</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Classes 'data.table' and 'data.frame':  1000 obs. of  21 variables:
 $ credit_risk            : Factor w/ 2 levels "good","bad": 1 2 1 1 2 1 1 1 1 2 ...
 $ age                    : int  67 22 49 45 53 35 53 35 61 28 ...
 $ amount                 : int  1169 5951 2096 7882 4870 9055 2835 6948 3059 5234 ...
 $ credit_history         : Factor w/ 5 levels "delay in paying off in the past",..: 5 3 5 3 4 3 3 3 3 5 ...
 $ duration               : int  6 48 12 42 24 36 24 36 12 30 ...
 $ employment_duration    : Factor w/ 5 levels "unemployed","&lt; 1 yr",..: 5 3 4 4 3 3 5 3 4 1 ...
 $ foreign_worker         : Factor w/ 2 levels "no","yes": 1 1 1 1 1 1 1 1 1 1 ...
 $ housing                : Factor w/ 3 levels "for free","rent",..: 2 2 2 3 3 3 2 1 2 2 ...
 $ installment_rate       : Ord.factor w/ 4 levels "&gt;= 35"&lt;"25 &lt;= ... &lt; 35"&lt;..: 4 2 2 2 3 2 3 2 2 4 ...
 $ job                    : Factor w/ 4 levels "unemployed/unskilled - non-resident",..: 3 3 2 3 3 2 3 4 2 4 ...
 $ number_credits         : Ord.factor w/ 4 levels "1"&lt;"2-3"&lt;"4-5"&lt;..: 2 1 1 1 2 1 1 1 1 2 ...
 $ other_debtors          : Factor w/ 3 levels "none","co-applicant",..: 1 1 1 3 1 1 1 1 1 1 ...
 $ other_installment_plans: Factor w/ 3 levels "bank","stores",..: 3 3 3 3 3 3 3 3 3 3 ...
 $ people_liable          : Factor w/ 2 levels "0 to 2","3 or more": 1 1 2 2 2 2 1 1 1 1 ...
 $ personal_status_sex    : Factor w/ 4 levels "male : divorced/separated",..: 3 2 3 3 3 3 3 3 1 4 ...
 $ present_residence      : Ord.factor w/ 4 levels "&lt; 1 yr"&lt;"1 &lt;= ... &lt; 4 yrs"&lt;..: 4 2 3 4 4 4 4 2 4 2 ...
 $ property               : Factor w/ 4 levels "unknown / no property",..: 1 1 1 2 4 4 2 3 1 3 ...
 $ purpose                : Factor w/ 11 levels "others","car (new)",..: 4 4 7 3 1 7 3 2 4 1 ...
 $ savings                : Factor w/ 5 levels "unknown/no savings account",..: 5 1 1 1 1 5 3 1 4 1 ...
 $ status                 : Factor w/ 4 levels "no checking account",..: 1 2 4 1 1 4 4 2 4 2 ...
 $ telephone              : Factor w/ 2 levels "no","yes (under customer name)": 2 1 1 1 1 2 1 2 1 1 ...
 - attr(*, ".internal.selfref")=&lt;externalptr&gt; </code></pre>
</div>
</div>
<p>Note that a <code>mlr3</code> <code>Task</code> object comes with plenty of functionality in the form of fields, methods and active bindings, see <code>?Task</code>, e.g., to get a summary of all feature names, you can use:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>task<span class="sc">$</span>feature_names</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "age"                     "amount"                  "credit_history"          "duration"               
 [5] "employment_duration"     "foreign_worker"          "housing"                 "installment_rate"       
 [9] "job"                     "number_credits"          "other_debtors"           "other_installment_plans"
[13] "people_liable"           "personal_status_sex"     "present_residence"       "property"               
[17] "purpose"                 "savings"                 "status"                  "telephone"              </code></pre>
</div>
</div>
<p>To obtain information about the types of features of the task (similarly like in the data dictionary above), we can inspect the active binding fields of the task object (see, <code>?Task</code>):</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>task<span class="sc">$</span>feature_types</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;id&gt;
                         id    type
                     &lt;char&gt;  &lt;char&gt;
 1:                     age integer
 2:                  amount integer
 3:          credit_history  factor
 4:                duration integer
 5:     employment_duration  factor
 6:          foreign_worker  factor
 7:                 housing  factor
 8:        installment_rate ordered
 9:                     job  factor
10:          number_credits ordered
11:           other_debtors  factor
12: other_installment_plans  factor
13:           people_liable  factor
14:     personal_status_sex  factor
15:       present_residence ordered
16:                property  factor
17:                 purpose  factor
18:                 savings  factor
19:                  status  factor
20:               telephone  factor
                         id    type</code></pre>
</div>
</div>
</details>
</section>
</section>
<section id="preprocess-a-task-with-one-hot-encoding" class="level1">
<h1>1 Preprocess a Task (with One-Hot Encoding)</h1>
<p>Use the one-hot encoding <code>PipeOp</code> to convert all categorical features from the <code>german_credit</code> task into a preprocessed task containing 0-1 indicator variables for each category level instead of categorical features.</p>
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<p>Load the <code>mlr3pipelines</code> package and get an overview of possible <code>PipeOp</code> that can be used for different preprocessing steps by printing <code>mlr_pipeops</code> or the first two columns of the corresponding table <code>as.data.table(mlr_pipeops)[,1:2]</code>. Look for a <strong>factor encoding</strong> and pass the corresponding <code>key</code> for factor encoding to the <code>po()</code> function (see also the help page <code>?PipeOpEncode</code>). Then, use the <code>$train()</code> method of the <code>PipeOp</code> object which expects a <strong>list</strong> containing the task to be converted as input and produces a <strong>list</strong> containing the converted task.</p>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3pipelines)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a PipeOp object that applies one-hot encoding</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>poe <span class="ot">=</span> <span class="fu">po</span>(...) </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply a created PipeOp to e.g. preprocess an input</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>encoded_task <span class="ot">=</span> poe<span class="sc">$</span><span class="fu">train</span>(<span class="at">input =</span> ...)<span class="sc">$</span>output</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(...<span class="sc">$</span><span class="fu">data</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PGRpdiBjbGFzcz0iY2VsbCIgZGF0YS1sYXlvdXQtYWxpZ249ImNlbnRlciI+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjEiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjEtMSI+PGEgaHJlZj0iI2NiMS0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5saWJyYXJ5PC9zcGFuPihtbHIzcGlwZWxpbmVzKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0yIj48YSBocmVmPSIjY2IxLTIiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5wb2UgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPnBvPC9zcGFuPig8c3BhbiBjbGFzcz0ic3QiPiZxdW90O2VuY29kZSZxdW90Ozwvc3Bhbj4sIDxzcGFuIGNsYXNzPSJhdCI+bWV0aG9kID08L3NwYW4+IDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7b25lLWhvdCZxdW90Ozwvc3Bhbj4pPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTMiPjxhIGhyZWY9IiNjYjEtMyIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJjbyI+IyBVc2UgdGhlICRoZWxwKCkgbWV0aG9kIHRvIG9wZW4gYSBoZWxwIHBhZ2Ugb2YgYW55IFBpcGVPcCBvYmplY3Q8L3NwYW4+PC9zcGFuPgo8c3BhbiBpZD0iY2IxLTQiPjxhIGhyZWY9IiNjYjEtNCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJjbyI+IyBwb2UkaGVscCgpPC9zcGFuPjwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS01Ij48YSBocmVmPSIjY2IxLTUiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5lbmNvZGVkX3Rhc2sgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiBwb2U8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij50cmFpbjwvc3Bhbj4oPHNwYW4gY2xhc3M9ImF0Ij5pbnB1dCA9PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmxpc3Q8L3NwYW4+KHRhc2spKTxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj5vdXRwdXQ8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNiI+PGEgaHJlZj0iI2NiMS02IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5zdHI8L3NwYW4+KGVuY29kZWRfdGFzazxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj48c3BhbiBjbGFzcz0iZnUiPmRhdGE8L3NwYW4+KCkpPC9zcGFuPjwvY29kZT48L3ByZT48L2Rpdj4KPGRpdiBjbGFzcz0iY2VsbC1vdXRwdXQgY2VsbC1vdXRwdXQtc3Rkb3V0Ij4KPHByZT48Y29kZT5DbGFzc2VzICYjMzk7ZGF0YS50YWJsZSYjMzk7IGFuZCAmIzM5O2RhdGEuZnJhbWUmIzM5OzogIDEwMDAgb2JzLiBvZiAgNzMgdmFyaWFibGVzOgogJCBjcmVkaXRfcmlzayAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBGYWN0b3Igdy8gMiBsZXZlbHMgJnF1b3Q7Z29vZCZxdW90OywmcXVvdDtiYWQmcXVvdDs6IDEgMiAxIDEgMiAxIDEgMSAxIDIgLi4uCiAkIGFnZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGludCAgNjcgMjIgNDkgNDUgNTMgMzUgNTMgMzUgNjEgMjggLi4uCiAkIGFtb3VudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGludCAgMTE2OSA1OTUxIDIwOTYgNzg4MiA0ODcwIDkwNTUgMjgzNSA2OTQ4IDMwNTkgNTIzNCAuLi4KICQgZHVyYXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaW50ICA2IDQ4IDEyIDQyIDI0IDM2IDI0IDM2IDEyIDMwIC4uLgogJCBjcmVkaXRfaGlzdG9yeS5kZWxheS5pbi5wYXlpbmcub2ZmLmluLnRoZS5wYXN0ICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMCAwIDAgLi4uCiAkIGNyZWRpdF9oaXN0b3J5LmNyaXRpY2FsLmFjY291bnQub3RoZXIuY3JlZGl0cy5lbHNld2hlcmUgICA6IG51bSAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuLi4KICQgY3JlZGl0X2hpc3Rvcnkubm8uY3JlZGl0cy50YWtlbi5hbGwuY3JlZGl0cy5wYWlkLmJhY2suZHVseTogbnVtICAwIDEgMCAxIDAgMSAxIDEgMSAwIC4uLgogJCBjcmVkaXRfaGlzdG9yeS5leGlzdGluZy5jcmVkaXRzLnBhaWQuYmFjay5kdWx5LnRpbGwubm93ICAgOiBudW0gIDAgMCAwIDAgMSAwIDAgMCAwIDAgLi4uCiAkIGNyZWRpdF9oaXN0b3J5LmFsbC5jcmVkaXRzLmF0LnRoaXMuYmFuay5wYWlkLmJhY2suZHVseSAgICA6IG51bSAgMSAwIDEgMCAwIDAgMCAwIDAgMSAuLi4KICQgZW1wbG95bWVudF9kdXJhdGlvbi51bmVtcGxveWVkICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAwIDAgMCAwIDAgMCAxIC4uLgogJCBlbXBsb3ltZW50X2R1cmF0aW9uLi4uMS55ciAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMCAwIDAgLi4uCiAkIGVtcGxveW1lbnRfZHVyYXRpb24uMS4uLi4uLi4uLi40LnlycyAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAxIDAgMCAxIDEgMCAxIDAgMCAuLi4KICQgZW1wbG95bWVudF9kdXJhdGlvbi40Li4uLi4uLi4uLjcueXJzICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMSAxIDAgMCAwIDAgMSAwIC4uLgogJCBlbXBsb3ltZW50X2R1cmF0aW9uLi4uLjcueXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDEgMCAwIDAgMCAwIDEgMCAwIDAgLi4uCiAkIGZvcmVpZ25fd29ya2VyLm5vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMSAxIDEgMSAxIDEgMSAxIDEgMSAuLi4KICQgZm9yZWlnbl93b3JrZXIueWVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAwIDAgMCAwIDAgMCAwIC4uLgogJCBob3VzaW5nLmZvci5mcmVlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMSAwIDAgLi4uCiAkIGhvdXNpbmcucmVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMSAxIDEgMCAwIDAgMSAwIDEgMSAuLi4KICQgaG91c2luZy5vd24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAxIDEgMSAwIDAgMCAwIC4uLgogJCBpbnN0YWxsbWVudF9yYXRlLi4uLjM1ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMCAwIDAgLi4uCiAkIGluc3RhbGxtZW50X3JhdGUuMjUuLi4uLi4uLi4uMzUgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAxIDEgMSAwIDEgMCAxIDEgMCAuLi4KICQgaW5zdGFsbG1lbnRfcmF0ZS4yMC4uLi4uLi4uLi4yNSAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAwIDEgMCAxIDAgMCAwIC4uLgogJCBpbnN0YWxsbWVudF9yYXRlLi4uMjAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDEgMCAwIDAgMCAwIDAgMCAwIDEgLi4uCiAkIGpvYi51bmVtcGxveWVkLnVuc2tpbGxlZC4uLm5vbi5yZXNpZGVudCAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuLi4KICQgam9iLnVuc2tpbGxlZC4uLnJlc2lkZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMSAwIDAgMSAwIDAgMSAwIC4uLgogJCBqb2Iuc2tpbGxlZC5lbXBsb3llZS5vZmZpY2lhbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDEgMSAwIDEgMSAwIDEgMCAwIDAgLi4uCiAkIGpvYi5tYW5hZ2VyLnNlbGYuZW1wbC5oaWdobHkucXVhbGlmLi5lbXBsb3llZSAgICAgICAgICAgICA6IG51bSAgMCAwIDAgMCAwIDAgMCAxIDAgMSAuLi4KICQgbnVtYmVyX2NyZWRpdHMuMSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDEgMSAxIDAgMSAxIDEgMSAwIC4uLgogJCBudW1iZXJfY3JlZGl0cy4yLjMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDEgMCAwIDAgMSAwIDAgMCAwIDEgLi4uCiAkIG51bWJlcl9jcmVkaXRzLjQuNSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuLi4KICQgbnVtYmVyX2NyZWRpdHMuLi4uNiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAwIDAgMCAwIDAgMCAwIC4uLgogJCBvdGhlcl9kZWJ0b3JzLm5vbmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDEgMSAxIDAgMSAxIDEgMSAxIDEgLi4uCiAkIG90aGVyX2RlYnRvcnMuY28uYXBwbGljYW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuLi4KICQgb3RoZXJfZGVidG9ycy5ndWFyYW50b3IgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAxIDAgMCAwIDAgMCAwIC4uLgogJCBvdGhlcl9pbnN0YWxsbWVudF9wbGFucy5iYW5rICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMCAwIDAgLi4uCiAkIG90aGVyX2luc3RhbGxtZW50X3BsYW5zLnN0b3JlcyAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuLi4KICQgb3RoZXJfaW5zdGFsbG1lbnRfcGxhbnMubm9uZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAxIDEgMSAxIDEgMSAxIDEgMSAxIC4uLgogJCBwZW9wbGVfbGlhYmxlLjAudG8uMiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDEgMSAwIDAgMCAwIDEgMSAxIDEgLi4uCiAkIHBlb3BsZV9saWFibGUuMy5vci5tb3JlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAwIDEgMSAxIDEgMCAwIDAgMCAuLi4KICQgcGVyc29uYWxfc3RhdHVzX3NleC5tYWxlLi4uZGl2b3JjZWQuc2VwYXJhdGVkICAgICAgICAgICAgIDogbnVtICAwIDAgMCAwIDAgMCAwIDAgMSAwIC4uLgogJCBwZXJzb25hbF9zdGF0dXNfc2V4LmZlbWFsZS4uLm5vbi5zaW5nbGUub3IubWFsZS4uLnNpbmdsZSAgOiBudW0gIDAgMSAwIDAgMCAwIDAgMCAwIDAgLi4uCiAkIHBlcnNvbmFsX3N0YXR1c19zZXgubWFsZS4uLm1hcnJpZWQud2lkb3dlZCAgICAgICAgICAgICAgICA6IG51bSAgMSAwIDEgMSAxIDEgMSAxIDAgMCAuLi4KICQgcGVyc29uYWxfc3RhdHVzX3NleC5mZW1hbGUuLi5zaW5nbGUgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAwIDAgMCAwIDAgMCAxIC4uLgogJCBwcmVzZW50X3Jlc2lkZW5jZS4uLjEueXIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMCAwIDAgLi4uCiAkIHByZXNlbnRfcmVzaWRlbmNlLjEuLi4uLi4uLi4uNC55cnMgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAxIDAgMCAwIDAgMCAxIDAgMSAuLi4KICQgcHJlc2VudF9yZXNpZGVuY2UuNC4uLi4uLi4uLi43LnlycyAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMSAwIDAgMCAwIDAgMCAwIC4uLgogJCBwcmVzZW50X3Jlc2lkZW5jZS4uLi43LnlycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDEgMCAwIDEgMSAxIDEgMCAxIDAgLi4uCiAkIHByb3BlcnR5LnVua25vd24uLi5uby5wcm9wZXJ0eSAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMSAxIDEgMCAwIDAgMCAwIDEgMCAuLi4KICQgcHJvcGVydHkuY2FyLm9yLm90aGVyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAxIDAgMCAxIDAgMCAwIC4uLgogJCBwcm9wZXJ0eS5idWlsZGluZy5zb2MuLnNhdmluZ3MuYWdyLi4uLmxpZmUuaW5zdXJhbmNlICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMSAwIDEgLi4uCiAkIHByb3BlcnR5LnJlYWwuZXN0YXRlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAwIDAgMCAxIDEgMCAwIDAgMCAuLi4KICQgcHVycG9zZS5vdGhlcnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAwIDEgMCAwIDAgMCAxIC4uLgogJCBwdXJwb3NlLmNhci4ubmV3LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMSAwIDAgLi4uCiAkIHB1cnBvc2UuY2FyLi51c2VkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAwIDAgMSAwIDAgMSAwIDAgMCAuLi4KICQgcHVycG9zZS5mdXJuaXR1cmUuZXF1aXBtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAxIDEgMCAwIDAgMCAwIDAgMSAwIC4uLgogJCBwdXJwb3NlLnJhZGlvLnRlbGV2aXNpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMCAwIDAgLi4uCiAkIHB1cnBvc2UuZG9tZXN0aWMuYXBwbGlhbmNlcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuLi4KICQgcHVycG9zZS5yZXBhaXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMSAwIDAgMSAwIDAgMCAwIC4uLgogJCBwdXJwb3NlLmVkdWNhdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMCAwIDAgLi4uCiAkIHB1cnBvc2UudmFjYXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuLi4KICQgcHVycG9zZS5yZXRyYWluaW5nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAwIDAgMCAwIDAgMCAwIC4uLgogJCBwdXJwb3NlLmJ1c2luZXNzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDAgMCAwIDAgLi4uCiAkIHNhdmluZ3MudW5rbm93bi5uby5zYXZpbmdzLmFjY291bnQgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAxIDEgMSAxIDAgMCAxIDAgMSAuLi4KICQgc2F2aW5ncy4uLi4uLi4xMDAuRE0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAwIDAgMCAwIDAgMCAwIC4uLgogJCBzYXZpbmdzLjEwMC4uLi4uLi4uLi41MDAuRE0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDAgMCAwIDAgMCAwIDEgMCAwIDAgLi4uCiAkIHNhdmluZ3MuNTAwLi4uLi4uLi4uLjEwMDAuRE0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAwIDAgMCAwIDAgMCAwIDEgMCAuLi4KICQgc2F2aW5ncy4uLi4uLi4uMTAwMC5ETSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAxIDAgMCAwIDAgMSAwIDAgMCAwIC4uLgogJCBzdGF0dXMubm8uY2hlY2tpbmcuYWNjb3VudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudW0gIDEgMCAwIDEgMSAwIDAgMCAwIDAgLi4uCiAkIHN0YXR1cy4uLi4uLi4wLkRNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAxIDAgMCAwIDAgMCAxIDAgMSAuLi4KICQgc3RhdHVzLjAuLi4uLi4uLi4yMDAuRE0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAwIDAgMCAwIDAgMCAwIDAgMCAwIC4uLgogJCBzdGF0dXMuLi4uLi4uLjIwMC5ETS4uLnNhbGFyeS5mb3IuYXQubGVhc3QuMS55ZWFyICAgICAgICAgOiBudW0gIDAgMCAxIDAgMCAxIDEgMCAxIDAgLi4uCiAkIHRlbGVwaG9uZS5ubyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bSAgMCAxIDEgMSAxIDAgMSAwIDEgMSAuLi4KICQgdGVsZXBob25lLnllcy4udW5kZXIuY3VzdG9tZXIubmFtZS4gICAgICAgICAgICAgICAgICAgICAgIDogbnVtICAxIDAgMCAwIDAgMSAwIDEgMCAwIC4uLgogLSBhdHRyKCosICZxdW90Oy5pbnRlcm5hbC5zZWxmcmVmJnF1b3Q7KT0mbHQ7ZXh0ZXJuYWxwdHImZ3Q7IDwvY29kZT48L3ByZT4KPC9kaXY+CjwvZGl2Pg=="></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="create-a-simple-ml-pipeline-with-one-hot-encoding" class="level1">
<h1>2 Create a Simple ML Pipeline (with One-Hot Encoding)</h1>
<p>Some learners cannot handle categorical features such as the the <code>xgboost</code> learner (which gives an error message when applied to a task containing categorical features):</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3verse)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>lrnxg <span class="ot">=</span> <span class="fu">lrn</span>(<span class="st">"classif.xgboost"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>lrnxg<span class="sc">$</span><span class="fu">train</span>(task)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<pre><code>Error: &lt;TaskClassif:german_credit&gt; has the following unsupported feature types: factor, ordered</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>lrnxg<span class="sc">$</span><span class="fu">predict</span>(task)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<pre><code>Error: &lt;TaskClassif:german_credit&gt; has the following unsupported feature types: factor, ordered</code></pre>
</div>
</div>
<p>Combine the <code>xgboost</code> learner with a preprocessing step that applies one-hot encoding to create a ML pipeline that first converts all categorical features to 0-1 indicator variables and then applies the <code>xgboost</code> learner. Train the ML pipeline on the <code>german_credit</code> task and make predictions on the training data.</p>
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<p>You can create a <code>Graph</code> that combines a <code>PipeOp</code> object with a learner object (or further <code>PipeOp</code> objects) by concatenating them using the <code>%&gt;&gt;%</code> operator. The <code>Graph</code> contains all information of a sequential ML pipeline. Convert the <code>Graph</code> into a <code>GraphLearner</code> to be able to run the whole ML pipeline like a usual learner object with which we can train, predict, resample, and benchmark the <code>GraphLearner</code> as we have learned. See also the help page <code>?GraphLearner</code>.</p>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3verse)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>lrnxg <span class="ot">=</span> <span class="fu">lrn</span>(<span class="st">"classif.xgboost"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>poe <span class="ot">=</span> <span class="fu">po</span>(...)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>graph <span class="ot">=</span> ...</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>glrn <span class="ot">=</span> <span class="fu">as_learner</span>(...) </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>...<span class="sc">$</span><span class="fu">train</span>(...)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>...<span class="sc">$</span><span class="fu">predict</span>(...)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PGRpdiBjbGFzcz0iY2VsbCIgZGF0YS1sYXlvdXQtYWxpZ249ImNlbnRlciI+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjEiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjEtMSI+PGEgaHJlZj0iI2NiMS0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5saWJyYXJ5PC9zcGFuPihtbHIzdmVyc2UpPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTIiPjxhIGhyZWY9IiNjYjEtMiIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmxybnhnIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5scm48L3NwYW4+KDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7Y2xhc3NpZi54Z2Jvb3N0JnF1b3Q7PC9zcGFuPik8L3NwYW4+CjxzcGFuIGlkPSJjYjEtMyI+PGEgaHJlZj0iI2NiMS0zIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cG9lIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5wbzwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtlbmNvZGUmcXVvdDs8L3NwYW4+LCA8c3BhbiBjbGFzcz0iYXQiPm1ldGhvZCA9PC9zcGFuPiA8c3BhbiBjbGFzcz0ic3QiPiZxdW90O29uZS1ob3QmcXVvdDs8L3NwYW4+KTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS00Ij48YSBocmVmPSIjY2IxLTQiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5ncmFwaCA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IHBvZSA8c3BhbiBjbGFzcz0ic2MiPiUmZ3Q7Jmd0OyU8L3NwYW4+IGxybnhnPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTUiPjxhIGhyZWY9IiNjYjEtNSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS02Ij48YSBocmVmPSIjY2IxLTYiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5nbHJuIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5hc19sZWFybmVyPC9zcGFuPihncmFwaCkgPHNwYW4gY2xhc3M9ImNvIj4jIEFsdGVybmF0aXZlOiBnbHJuID0gR3JhcGhMZWFybmVyJG5ldyhncmFwaCkgPC9zcGFuPjwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS03Ij48YSBocmVmPSIjY2IxLTciIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5nbHJuPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPjxzcGFuIGNsYXNzPSJmdSI+dHJhaW48L3NwYW4+KHRhc2spPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTgiPjxhIGhyZWY9IiNjYjEtOCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmdscm48c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij5wcmVkaWN0PC9zcGFuPih0YXNrKTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0IGNlbGwtb3V0cHV0LXN0ZG91dCI+CjxwcmU+PGNvZGU+Jmx0O1ByZWRpY3Rpb25DbGFzc2lmJmd0OyBmb3IgMTAwMCBvYnNlcnZhdGlvbnM6CiByb3dfaWRzIHRydXRoIHJlc3BvbnNlCiAgICAgICAxICBnb29kICAgICBnb29kCiAgICAgICAyICAgYmFkICAgICAgYmFkCiAgICAgICAzICBnb29kICAgICBnb29kCiAgICAgLS0tICAgLS0tICAgICAgLS0tCiAgICAgOTk4ICBnb29kICAgICBnb29kCiAgICAgOTk5ICAgYmFkICAgICAgYmFkCiAgICAxMDAwICBnb29kICAgICBnb29kPC9jb2RlPjwvcHJlPgo8L2Rpdj4KPC9kaXY+"></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="feature-transformation-for-decision-trees" class="level1">
<h1>3 Feature Transformation for Decision Trees</h1>
<p>The structure of a decision tree is insensitive to monotonic transformations of the features (and scaling is a monotonic transformation). This means that although the scaled features are different to non-scaled features, the decision tree will have the same structure (the values of the split points for numeric feature might be different as the numeric features will have a different scale, but the structure of the decision tree will stay the same).</p>
<section id="preprocessing" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing">3.1 Preprocessing</h2>
<p>Use the <code>PipeOp</code> to scale all numeric features from the <code>german_credit</code> task and create a preprocessed task the scaled numeric features. Do this for standard scaling (i.e., normalization by centering and scaling) and for Yeo-Johnson transformation (i.e., a power transformation to make data more Gaussian-like). You can look up the corresponding keys by inspecting the table <code>as.data.table(mlr_pipeops)[,1:2]</code>. Create the preprocessed tasks <code>task_scaled</code> and <code>task_yeojohnson</code> and check the values of the numeric features. You may have to first install the <code>bestNormalize</code> package for the Yeo-Johnson transformation.</p>
<details>
<summary>
<strong>Hint:</strong>
</summary>
Proceed as in Exercise 1, but use <code>scale</code> and <code>yeojohnson</code> instead of <code>encode</code> as keys in the <code>po()</code> function. If installing the <code>bestNormalize</code> package does not work, you can also select a different scaling approach such as <code>scalemaxabs</code> or <code>scalerange</code>. Yeo-Johnson transformation is a generalization of the Box-Cox transformation that can be applied to both positive and negative values, while Box-Cox transformation is only applicable to non-negative values.
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PGRpdiBjbGFzcz0iY2VsbCIgZGF0YS1sYXlvdXQtYWxpZ249ImNlbnRlciI+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjEiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjEtMSI+PGEgaHJlZj0iI2NiMS0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5saWJyYXJ5PC9zcGFuPihtbHIzcGlwZWxpbmVzKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0yIj48YSBocmVmPSIjY2IxLTIiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5wb3MgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPnBvPC9zcGFuPig8c3BhbiBjbGFzcz0ic3QiPiZxdW90O3NjYWxlJnF1b3Q7PC9zcGFuPik8L3NwYW4+CjxzcGFuIGlkPSJjYjEtMyI+PGEgaHJlZj0iI2NiMS0zIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cG95aiA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+cG88L3NwYW4+KDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7eWVvam9obnNvbiZxdW90Ozwvc3Bhbj4pPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTQiPjxhIGhyZWY9IiNjYjEtNCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS01Ij48YSBocmVmPSIjY2IxLTUiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT50YXNrX3NjYWxlZCA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IHBvczxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj48c3BhbiBjbGFzcz0iZnUiPnRyYWluPC9zcGFuPig8c3BhbiBjbGFzcz0iZnUiPmxpc3Q8L3NwYW4+KHRhc2spKTxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj5vdXRwdXQ8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNiI+PGEgaHJlZj0iI2NiMS02IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+dGFza195ZW9qb2huc29uIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gcG95ajxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj48c3BhbiBjbGFzcz0iZnUiPnRyYWluPC9zcGFuPig8c3BhbiBjbGFzcz0iZnUiPmxpc3Q8L3NwYW4+KHRhc2spKTxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj5vdXRwdXQ8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNyI+PGEgaHJlZj0iI2NiMS03IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PC9zcGFuPgo8c3BhbiBpZD0iY2IxLTgiPjxhIGhyZWY9IiNjYjEtOCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPm51bWZlYXQgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiB0YXNrPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPmZlYXR1cmVfdHlwZXM8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+aWRbdGFzazxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj5mZWF0dXJlX3R5cGVzPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPnR5cGUgPHNwYW4gY2xhc3M9InNjIj49PTwvc3Bhbj4gPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtpbnRlZ2VyJnF1b3Q7PC9zcGFuPl08L3NwYW4+CjxzcGFuIGlkPSJjYjEtOSI+PGEgaHJlZj0iI2NiMS05IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+dGFza19zY2FsZWQ8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij5kYXRhPC9zcGFuPig8c3BhbiBjbGFzcz0iYXQiPmNvbHMgPTwvc3Bhbj4gbnVtZmVhdCk8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8ZGl2IGNsYXNzPSJjZWxsLW91dHB1dCBjZWxsLW91dHB1dC1zdGRvdXQiPgo8cHJlPjxjb2RlPiAgICAgICAgICAgICBhZ2UgICAgIGFtb3VudCAgIGR1cmF0aW9uCiAgICAgICAgICAgJmx0O251bSZndDsgICAgICAmbHQ7bnVtJmd0OyAgICAgICZsdDtudW0mZ3Q7CiAgIDE6ICAyLjc2NTA3MjkgLTAuNzQ0NzU4OCAtMS4yMzU4NTk1CiAgIDI6IC0xLjE5MDgwODEgIDAuOTQ5MzQxOCAgMi4yNDcwNzAwCiAgIDM6ICAxLjE4MjcyMDUgLTAuNDE2MzU0MSAtMC43MzgyOTgxCiAgIDQ6ICAwLjgzMTA4NjYgIDEuNjMzNDI5NiAgMS43NDk1MDg2CiAgIDU6ICAxLjUzNDM1NDQgIDAuNTY2MzgwMSAgMC4yNTY4MjQ2CiAgLS0tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiA5OTY6IC0wLjM5OTYzMTkgLTAuNTQzODg5OSAtMC43MzgyOTgxCiA5OTc6ICAwLjM5MTU0NDMgIDAuMjA3NTA4NSAgMC43NTQzODU5CiA5OTg6ICAwLjIxNTcyNzQgLTAuODc0MDY1OSAtMC43MzgyOTgxCiA5OTk6IC0xLjEwMjg5OTYgLTAuNTA1Mjc0OSAgMS45OTgyODkzCjEwMDA6IC0wLjc1MTI2NTggIDAuNDYyMjI1OSAgMS45OTgyODkzPC9jb2RlPjwvcHJlPgo8L2Rpdj4KPGRpdiBjbGFzcz0ic291cmNlQ29kZSIgaWQ9ImNiMyI+PHByZQpjbGFzcz0ic291cmNlQ29kZSByIGNlbGwtY29kZSI+PGNvZGUgY2xhc3M9InNvdXJjZUNvZGUgciI+PHNwYW4gaWQ9ImNiMy0xIj48YSBocmVmPSIjY2IzLTEiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT50YXNrX3llb2pvaG5zb248c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij5kYXRhPC9zcGFuPig8c3BhbiBjbGFzcz0iYXQiPmNvbHMgPTwvc3Bhbj4gbnVtZmVhdCk8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8ZGl2IGNsYXNzPSJjZWxsLW91dHB1dCBjZWxsLW91dHB1dC1zdGRvdXQiPgo8cHJlPjxjb2RlPiAgICAgICAgICAgICBhZ2UgICAgIGFtb3VudCAgIGR1cmF0aW9uCiAgICAgICAgICAgJmx0O251bSZndDsgICAgICAmbHQ7bnVtJmd0OyAgICAgICZsdDtudW0mZ3Q7CiAgIDE6ICAxLjk2NTMzMDAgLTAuOTMyMjM0NiAtMS43OTY1MjAyCiAgIDI6IC0xLjYwNjY3ODIgIDEuMTU2MjI2NyAgMS43NjM3MDQwCiAgIDM6ICAxLjIxMDg5MTUgLTAuMTU3NzUzNCAtMC42OTQxODI0CiAgIDQ6ICAwLjk3NjYxODEgIDEuNDk1MjYyNyAgMS41MTU4NDY5CiAgIDU6ICAxLjQxNTI3NzMgIDAuOTEwNjAwNSAgMC41MDA2NTk0CiAgLS0tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiA5OTY6IC0wLjIxOTE1NzggLTAuNDA0NTY0NSAtMC42OTQxODI0CiA5OTc6ICAwLjYyOTkyNDQgIDAuNjIwODQ0MiAgMC45MDA2NjcyCiA5OTg6ICAwLjQ3MDI4NjEgLTEuNDQ0MDk1NiAtMC42OTQxODI0CiA5OTk6IC0xLjQwOTI4MTggLTAuMzI0NDgzMCAgMS42NDM2NTU5CjEwMDA6IC0wLjc0MTc1MTYgIDAuODMzNjU2NiAgMS42NDM2NTU5PC9jb2RlPjwvcHJlPgo8L2Rpdj4KPC9kaXY+"></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="visual-comparison" class="level2">
<h2 class="anchored" data-anchor-id="visual-comparison">3.2 Visual Comparison</h2>
<p>Create two ML pipelines, one that combines the <code>classif.rpart</code> learner with the standard scaling and another one that combines <code>classif.rpart</code> learner with the Yeo-Johnson scaling. Then use the <code>classif.rpart</code> learner and the two ML pipelines on the <code>german_credit</code> task to fit 3 different decision trees (one trained on the raw task and the other two trained on the scaled and Yeo-Johnson transformed task). Visualize the decision tree structure using the <code>rpart.plot</code> function from the <code>rpart.plot</code> package.</p>
<details>
<summary>
<strong>Hint:</strong>
</summary>
Proceed as in Exercise 2 to create two <code>GraphLearner</code>s, one with <code>po("scale")</code> and the other one with <code>po("yeojohnson")</code>. Then, train the <code>classif.rpart</code> learner and the two <code>GraphLearner</code>s on the <code>german_credit</code> task. Apply the <code>rpart.plot</code> function to the trained model objects to compare the structure of the decision trees. Note: While for the <code>classif.rpart</code> learner, the model object is directly contained in the <code>$model</code> slot of the learner after training, the <code>$model</code> slot of the two <code>GraphLearners</code> is a list and you have to access the trained model via <code>$model$classif.rpart$model</code>.
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PHA+VGhlIHNvbHV0aW9uIHNob3dzIHRoYXQgdGhlIGRlY2lzaW9uIHRyZWUgc3RydWN0dXJlIGlzIGV4YWN0bHkgdGhlCnNhbWUgKGFsdGhvdWdoIHRoZSBzcGxpdCBwb2ludHMgb2YgdGhlIG51bWVyaWMgZmVhdHVyZXMgc3VjaCBhcwo8Y29kZT5hbW91bnQ8L2NvZGU+IGFuZCA8Y29kZT5kdXJhdGlvbjwvY29kZT4gYXJlIGRpZmZlcmVudCBkdWUgdG8gdGhlCnRyYW5zZm9ybWVkIGZlYXR1cmVzKTo8L3A+CjxkaXYgY2xhc3M9ImNlbGwiIGRhdGEtbGF5b3V0LWFsaWduPSJjZW50ZXIiPgo8ZGl2IGNsYXNzPSJzb3VyY2VDb2RlIiBpZD0iY2IxIj48cHJlCmNsYXNzPSJzb3VyY2VDb2RlIHIgY2VsbC1jb2RlIj48Y29kZSBjbGFzcz0ic291cmNlQ29kZSByIj48c3BhbiBpZD0iY2IxLTEiPjxhIGhyZWY9IiNjYjEtMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJmdSI+bGlicmFyeTwvc3Bhbj4obWxyM3BpcGVsaW5lcyk8L3NwYW4+CjxzcGFuIGlkPSJjYjEtMiI+PGEgaHJlZj0iI2NiMS0yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5saWJyYXJ5PC9zcGFuPihtbHIzbGVhcm5lcnMpPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTMiPjxhIGhyZWY9IiNjYjEtMyIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJmdSI+bGlicmFyeTwvc3Bhbj4oeGdib29zdCk8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNCI+PGEgaHJlZj0iI2NiMS00IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cnAgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmxybjwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtjbGFzc2lmLnJwYXJ0JnF1b3Q7PC9zcGFuPik8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNSI+PGEgaHJlZj0iI2NiMS01IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cnBzY2FsZSA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+YXNfbGVhcm5lcjwvc3Bhbj4ocG9zIDxzcGFuIGNsYXNzPSJzYyI+JSZndDsmZ3Q7JTwvc3Bhbj4gcnApPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTYiPjxhIGhyZWY9IiNjYjEtNiIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnJweWVvam9obnNvbiA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+YXNfbGVhcm5lcjwvc3Bhbj4ocG95aiA8c3BhbiBjbGFzcz0ic2MiPiUmZ3Q7Jmd0OyU8L3NwYW4+IHJwKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS03Ij48YSBocmVmPSIjY2IxLTciIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48L3NwYW4+CjxzcGFuIGlkPSJjYjEtOCI+PGEgaHJlZj0iI2NiMS04IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cnA8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij50cmFpbjwvc3Bhbj4odGFzayk8L3NwYW4+CjxzcGFuIGlkPSJjYjEtOSI+PGEgaHJlZj0iI2NiMS05IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cnBzY2FsZTxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj48c3BhbiBjbGFzcz0iZnUiPnRyYWluPC9zcGFuPih0YXNrKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0xMCI+PGEgaHJlZj0iI2NiMS0xMCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnJweWVvam9obnNvbjxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj48c3BhbiBjbGFzcz0iZnUiPnRyYWluPC9zcGFuPih0YXNrKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0xMSI+PGEgaHJlZj0iI2NiMS0xMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0xMiI+PGEgaHJlZj0iI2NiMS0xMiIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJmdSI+bGlicmFyeTwvc3Bhbj4ocnBhcnQucGxvdCk8L3NwYW4+CjxzcGFuIGlkPSJjYjEtMTMiPjxhIGhyZWY9IiNjYjEtMTMiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48c3BhbiBjbGFzcz0iZnUiPnJwYXJ0LnBsb3Q8L3NwYW4+KHJwPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPm1vZGVsKTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0LWRpc3BsYXkiPgo8cD48aW1nIHNyYz0iaW5kZXhfZmlsZXMvZmlndXJlLWh0bWwvdW5uYW1lZC1jaHVuay0xNS0xLnBuZyIKZGF0YS1maWctYWxpZ249ImNlbnRlciIgd2lkdGg9IjY3MiIgLz48L3A+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJzb3VyY2VDb2RlIiBpZD0iY2IyIj48cHJlCmNsYXNzPSJzb3VyY2VDb2RlIHIgY2VsbC1jb2RlIj48Y29kZSBjbGFzcz0ic291cmNlQ29kZSByIj48c3BhbiBpZD0iY2IyLTEiPjxhIGhyZWY9IiNjYjItMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJmdSI+cnBhcnQucGxvdDwvc3Bhbj4ocnBzY2FsZTxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj5tb2RlbDxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj5jbGFzc2lmLnJwYXJ0PHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPm1vZGVsKTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0LWRpc3BsYXkiPgo8cD48aW1nIHNyYz0iaW5kZXhfZmlsZXMvZmlndXJlLWh0bWwvdW5uYW1lZC1jaHVuay0xNS0yLnBuZyIKZGF0YS1maWctYWxpZ249ImNlbnRlciIgd2lkdGg9IjY3MiIgLz48L3A+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJzb3VyY2VDb2RlIiBpZD0iY2IzIj48cHJlCmNsYXNzPSJzb3VyY2VDb2RlIHIgY2VsbC1jb2RlIj48Y29kZSBjbGFzcz0ic291cmNlQ29kZSByIj48c3BhbiBpZD0iY2IzLTEiPjxhIGhyZWY9IiNjYjMtMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJmdSI+cnBhcnQucGxvdDwvc3Bhbj4ocnB5ZW9qb2huc29uPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPm1vZGVsPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPmNsYXNzaWYucnBhcnQ8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+bW9kZWwpPC9zcGFuPjwvY29kZT48L3ByZT48L2Rpdj4KPGRpdiBjbGFzcz0iY2VsbC1vdXRwdXQtZGlzcGxheSI+CjxwPjxpbWcgc3JjPSJpbmRleF9maWxlcy9maWd1cmUtaHRtbC91bm5hbWVkLWNodW5rLTE1LTMucG5nIgpkYXRhLWZpZy1hbGlnbj0iY2VudGVyIiB3aWR0aD0iNjcyIiAvPjwvcD4KPC9kaXY+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJjZWxsIiBkYXRhLWxheW91dC1hbGlnbj0iY2VudGVyIj4KPGRpdiBjbGFzcz0ic291cmNlQ29kZSIgaWQ9ImNiNCI+PHByZQpjbGFzcz0ic291cmNlQ29kZSByIGNlbGwtY29kZSI+PGNvZGUgY2xhc3M9InNvdXJjZUNvZGUgciI+PHNwYW4gaWQ9ImNiNC0xIj48YSBocmVmPSIjY2I0LTEiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48c3BhbiBjbGFzcz0iY28iPiMgQWx0ZXJuYXRpdmUgc29sdXRpb24gdXNpbmcgdGhlIHRyYW5zZm9ybWVkIHRhc2tzOjwvc3Bhbj48L3NwYW4+CjxzcGFuIGlkPSJjYjQtMiI+PGEgaHJlZj0iI2NiNC0yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cnAgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmxybjwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtjbGFzc2lmLnJwYXJ0JnF1b3Q7PC9zcGFuPik8L3NwYW4+CjxzcGFuIGlkPSJjYjQtMyI+PGEgaHJlZj0iI2NiNC0zIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PC9zcGFuPgo8c3BhbiBpZD0iY2I0LTQiPjxhIGhyZWY9IiNjYjQtNCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJmdSI+bGlicmFyeTwvc3Bhbj4ocnBhcnQucGxvdCk8L3NwYW4+CjxzcGFuIGlkPSJjYjQtNSI+PGEgaHJlZj0iI2NiNC01IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cnA8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij50cmFpbjwvc3Bhbj4odGFzayk8L3NwYW4+CjxzcGFuIGlkPSJjYjQtNiI+PGEgaHJlZj0iI2NiNC02IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5ycGFydC5wbG90PC9zcGFuPihycDxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj5tb2RlbCk8L3NwYW4+CjxzcGFuIGlkPSJjYjQtNyI+PGEgaHJlZj0iI2NiNC03IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PC9zcGFuPgo8c3BhbiBpZD0iY2I0LTgiPjxhIGhyZWY9IiNjYjQtOCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnJwPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPjxzcGFuIGNsYXNzPSJmdSI+dHJhaW48L3NwYW4+KHRhc2tfc2NhbGVkKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiNC05Ij48YSBocmVmPSIjY2I0LTkiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48c3BhbiBjbGFzcz0iZnUiPnJwYXJ0LnBsb3Q8L3NwYW4+KHJwPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPm1vZGVsKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiNC0xMCI+PGEgaHJlZj0iI2NiNC0xMCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjwvc3Bhbj4KPHNwYW4gaWQ9ImNiNC0xMSI+PGEgaHJlZj0iI2NiNC0xMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnJwPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPjxzcGFuIGNsYXNzPSJmdSI+dHJhaW48L3NwYW4+KHRhc2tfeWVvam9obnNvbik8L3NwYW4+CjxzcGFuIGlkPSJjYjQtMTIiPjxhIGhyZWY9IiNjYjQtMTIiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48c3BhbiBjbGFzcz0iZnUiPnJwYXJ0LnBsb3Q8L3NwYW4+KHJwPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPm1vZGVsKTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjwvZGl2Pg=="></div></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="benchmark-k-nn-and-decison-tree-with-scaling-and-yeo-johnson-transformation" class="level1">
<h1>4 Benchmark k-NN and Decison Tree with Scaling and Yeo-Johnson Transformation</h1>
<p>In the previous exercise we saw that scaling does not affect a decision tree structure. That is scaling numeric features of a decision tree will not have any (strong) effect on the performance. However, for some learners, scaling numeric features is important, especially if they are based on computing distances such as the k-NN learner (because scaling will convert all numeric features into a comparable scale).</p>
<p>In this exercise we want to conduct a benchmark that illustrates these claims. Consider the k-NN learner without scaling <code>lrn("classif.kknn", scale = FALSE)</code> and the decision tree <code>lrn("classif.rpart")</code>. Combine these two learners once with <code>po("scale")</code> (for normalization, i.e., subtracting the mean and dividing by the standard deviation) and once with <code>po("yeojohnson")</code> for Yeo-Johnson transformation of the numeric features. Then, setup a benchmark to compare their performance (including the non-scaled k-NN <code>lrn("classif.kknn", scale = FALSE)</code> and decision tree <code>lrn("classif.rpart")</code>) using 10-fold cross-validation. In total, you will benchmark 6 learners, the 4 ML pipelines and the 2 learners. For reproducibility, use the seed <code>set.seed(2023)</code>.</p>
<details>
<summary>
<strong>Hint:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3pipelines)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2023</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>lrns <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lrn</span>(<span class="st">"classif.kknn"</span>, <span class="at">scale =</span> <span class="cn">FALSE</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">po</span>(<span class="st">"scale"</span>) <span class="sc">%&gt;&gt;%</span> ...,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">po</span>(<span class="st">"yeojohnson"</span>) <span class="sc">%&gt;&gt;%</span> ..,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lrn</span>(<span class="st">"classif.rpart"</span>),</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  ... <span class="sc">%&gt;&gt;%</span> <span class="fu">lrn</span>(...),</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  ... <span class="sc">%&gt;&gt;%</span> ...</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>design <span class="ot">=</span> <span class="fu">benchmark_grid</span>(...)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>bmr <span class="ot">=</span> <span class="fu">benchmark</span>(...)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>bmr<span class="sc">$</span><span class="fu">aggregate</span>()</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(bmr)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PGRpdiBjbGFzcz0iY2VsbCIgZGF0YS1sYXlvdXQtYWxpZ249ImNlbnRlciI+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjEiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjEtMSI+PGEgaHJlZj0iI2NiMS0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5saWJyYXJ5PC9zcGFuPihtbHIzcGlwZWxpbmVzKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0yIj48YSBocmVmPSIjY2IxLTIiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5wb3MgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPnBvPC9zcGFuPig8c3BhbiBjbGFzcz0ic3QiPiZxdW90O3NjYWxlJnF1b3Q7PC9zcGFuPik8L3NwYW4+CjxzcGFuIGlkPSJjYjEtMyI+PGEgaHJlZj0iI2NiMS0zIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cG95aiA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+cG88L3NwYW4+KDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7eWVvam9obnNvbiZxdW90Ozwvc3Bhbj4pPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTQiPjxhIGhyZWY9IiNjYjEtNCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS01Ij48YSBocmVmPSIjY2IxLTUiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48c3BhbiBjbGFzcz0iZnUiPnNldC5zZWVkPC9zcGFuPig8c3BhbiBjbGFzcz0iZHYiPjIwMjM8L3NwYW4+KTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS02Ij48YSBocmVmPSIjY2IxLTYiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5scm5zIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5saXN0PC9zcGFuPig8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNyI+PGEgaHJlZj0iI2NiMS03IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+ICA8c3BhbiBjbGFzcz0iZnUiPmxybjwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtjbGFzc2lmLmtrbm4mcXVvdDs8L3NwYW4+LCA8c3BhbiBjbGFzcz0iYXQiPnNjYWxlID08L3NwYW4+IDxzcGFuIGNsYXNzPSJjbiI+RkFMU0U8L3NwYW4+KSw8L3NwYW4+CjxzcGFuIGlkPSJjYjEtOCI+PGEgaHJlZj0iI2NiMS04IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+ICBwb3MgPHNwYW4gY2xhc3M9InNjIj4lJmd0OyZndDslPC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmxybjwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtjbGFzc2lmLmtrbm4mcXVvdDs8L3NwYW4+LCA8c3BhbiBjbGFzcz0iYXQiPnNjYWxlID08L3NwYW4+IDxzcGFuIGNsYXNzPSJjbiI+RkFMU0U8L3NwYW4+KSw8L3NwYW4+CjxzcGFuIGlkPSJjYjEtOSI+PGEgaHJlZj0iI2NiMS05IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+ICBwb3lqIDxzcGFuIGNsYXNzPSJzYyI+JSZndDsmZ3Q7JTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5scm48L3NwYW4+KDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7Y2xhc3NpZi5ra25uJnF1b3Q7PC9zcGFuPiwgPHNwYW4gY2xhc3M9ImF0Ij5zY2FsZSA9PC9zcGFuPiA8c3BhbiBjbGFzcz0iY24iPkZBTFNFPC9zcGFuPiksPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTEwIj48YSBocmVmPSIjY2IxLTEwIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+ICA8c3BhbiBjbGFzcz0iZnUiPmxybjwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtjbGFzc2lmLnJwYXJ0JnF1b3Q7PC9zcGFuPiksPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTExIj48YSBocmVmPSIjY2IxLTExIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+ICBwb3MgPHNwYW4gY2xhc3M9InNjIj4lJmd0OyZndDslPC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmxybjwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtjbGFzc2lmLnJwYXJ0JnF1b3Q7PC9zcGFuPiksPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTEyIj48YSBocmVmPSIjY2IxLTEyIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+ICBwb3lqIDxzcGFuIGNsYXNzPSJzYyI+JSZndDsmZ3Q7JTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5scm48L3NwYW4+KDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7Y2xhc3NpZi5ycGFydCZxdW90Ozwvc3Bhbj4pPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTEzIj48YSBocmVmPSIjY2IxLTEzIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+KTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0xNCI+PGEgaHJlZj0iI2NiMS0xNCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0xNSI+PGEgaHJlZj0iI2NiMS0xNSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmN2IDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5yc21wPC9zcGFuPig8c3BhbiBjbGFzcz0ic3QiPiZxdW90O2N2JnF1b3Q7PC9zcGFuPiwgPHNwYW4gY2xhc3M9ImF0Ij5mb2xkcyA9PC9zcGFuPiA8c3BhbiBjbGFzcz0iZHYiPjEwPC9zcGFuPik8L3NwYW4+CjxzcGFuIGlkPSJjYjEtMTYiPjxhIGhyZWY9IiNjYjEtMTYiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5kZXNpZ24gPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmJlbmNobWFya19ncmlkPC9zcGFuPig8c3BhbiBjbGFzcz0iZnUiPmxpc3Q8L3NwYW4+KHRhc2spLCBscm5zLCBjdik8L3NwYW4+CjxzcGFuIGlkPSJjYjEtMTciPjxhIGhyZWY9IiNjYjEtMTciIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5ibXIgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmJlbmNobWFyazwvc3Bhbj4oZGVzaWduKTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0IGNlbGwtb3V0cHV0LXN0ZG91dCI+CjxwcmU+PGNvZGU+SU5GTyAgWzE1OjI0OjA2LjUxNF0gW21scjNdIFJ1bm5pbmcgYmVuY2htYXJrIHdpdGggNjAgcmVzYW1wbGluZyBpdGVyYXRpb25zCklORk8gIFsxNToyNDowNy4yNDRdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7Y2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAxLzEwKQpJTkZPICBbMTU6MjQ6MDcuODY4XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O2NsYXNzaWYua2tubiYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgMi8xMCkKSU5GTyAgWzE1OjI0OjA4LjU2MF0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtjbGFzc2lmLmtrbm4mIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDMvMTApCklORk8gIFsxNToyNDowOS4zMThdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7Y2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA0LzEwKQpJTkZPICBbMTU6MjQ6MTAuMTAxXSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O2NsYXNzaWYua2tubiYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgNS8xMCkKSU5GTyAgWzE1OjI0OjEwLjkwMV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtjbGFzc2lmLmtrbm4mIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDYvMTApCklORk8gIFsxNToyNDoxMS43MjNdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7Y2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA3LzEwKQpJTkZPICBbMTU6MjQ6MTIuNzg5XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O2NsYXNzaWYua2tubiYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgOC8xMCkKSU5GTyAgWzE1OjI0OjEzLjE0M10gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtjbGFzc2lmLmtrbm4mIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDkvMTApCklORk8gIFsxNToyNDoxMy41MjRdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7Y2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAxMC8xMCkKSU5GTyAgWzE1OjI0OjE0LjExM10gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtzY2FsZS5jbGFzc2lmLmtrbm4mIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDEvMTApCklORk8gIFsxNToyNDoxNC4zODRdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7c2NhbGUuY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAyLzEwKQpJTkZPICBbMTU6MjQ6MTQuNjYyXSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3NjYWxlLmNsYXNzaWYua2tubiYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgMy8xMCkKSU5GTyAgWzE1OjI0OjE0LjkzMF0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtzY2FsZS5jbGFzc2lmLmtrbm4mIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDQvMTApCklORk8gIFsxNToyNDoxNS4yNDldIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7c2NhbGUuY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA1LzEwKQpJTkZPICBbMTU6MjQ6MTUuNTA5XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3NjYWxlLmNsYXNzaWYua2tubiYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgNi8xMCkKSU5GTyAgWzE1OjI0OjE1LjYyNl0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtzY2FsZS5jbGFzc2lmLmtrbm4mIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDcvMTApCklORk8gIFsxNToyNDoxNi4xNzhdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7c2NhbGUuY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA4LzEwKQpJTkZPICBbMTU6MjQ6MTYuNDMzXSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3NjYWxlLmNsYXNzaWYua2tubiYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgOS8xMCkKSU5GTyAgWzE1OjI0OjE3LjA2OV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtzY2FsZS5jbGFzc2lmLmtrbm4mIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDEwLzEwKQpJTkZPICBbMTU6MjQ6MTcuMjkwXSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAxLzEwKQpJTkZPICBbMTU6MjQ6MTcuNTQ0XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAyLzEwKQpJTkZPICBbMTU6MjQ6MTcuODU4XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAzLzEwKQpJTkZPICBbMTU6MjQ6MTguMTg1XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA0LzEwKQpJTkZPICBbMTU6MjQ6MTguNjU2XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA1LzEwKQpJTkZPICBbMTU6MjQ6MTkuMDE5XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA2LzEwKQpJTkZPICBbMTU6MjQ6MTkuNjY2XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA3LzEwKQpJTkZPICBbMTU6MjQ6MjAuMDQ2XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA4LzEwKQpJTkZPICBbMTU6MjQ6MjAuNDU1XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA5LzEwKQpJTkZPICBbMTU6MjQ6MjEuMDI4XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAxMC8xMCkKSU5GTyAgWzE1OjI0OjIxLjM3Ml0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtjbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAxLzEwKQpJTkZPICBbMTU6MjQ6MjEuNjQ4XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O2NsYXNzaWYucnBhcnQmIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDIvMTApCklORk8gIFsxNToyNDoyMi4yMzFdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7Y2xhc3NpZi5ycGFydCYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgMy8xMCkKSU5GTyAgWzE1OjI0OjIyLjQ0NV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtjbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA0LzEwKQpJTkZPICBbMTU6MjQ6MjIuNzIwXSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O2NsYXNzaWYucnBhcnQmIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDUvMTApCklORk8gIFsxNToyNDoyMi45MjZdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7Y2xhc3NpZi5ycGFydCYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgNi8xMCkKSU5GTyAgWzE1OjI0OjIzLjE0MV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtjbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA3LzEwKQpJTkZPICBbMTU6MjQ6MjMuMzc4XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O2NsYXNzaWYucnBhcnQmIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDgvMTApCklORk8gIFsxNToyNDoyMy42MTVdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7Y2xhc3NpZi5ycGFydCYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgOS8xMCkKSU5GTyAgWzE1OjI0OjIzLjg5Nl0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtjbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAxMC8xMCkKSU5GTyAgWzE1OjI0OjI0LjEwNl0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtzY2FsZS5jbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAxLzEwKQpJTkZPICBbMTU6MjQ6MjQuMzMwXSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3NjYWxlLmNsYXNzaWYucnBhcnQmIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDIvMTApCklORk8gIFsxNToyNDoyNC44ODVdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7c2NhbGUuY2xhc3NpZi5ycGFydCYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgMy8xMCkKSU5GTyAgWzE1OjI0OjI1LjE0OV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtzY2FsZS5jbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA0LzEwKQpJTkZPICBbMTU6MjQ6MjUuNzY3XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3NjYWxlLmNsYXNzaWYucnBhcnQmIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDUvMTApCklORk8gIFsxNToyNDoyNS45OTVdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7c2NhbGUuY2xhc3NpZi5ycGFydCYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgNi8xMCkKSU5GTyAgWzE1OjI0OjI2LjI0MV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtzY2FsZS5jbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA3LzEwKQpJTkZPICBbMTU6MjQ6MjYuNDkzXSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3NjYWxlLmNsYXNzaWYucnBhcnQmIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDgvMTApCklORk8gIFsxNToyNDoyNi43NjddIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7c2NhbGUuY2xhc3NpZi5ycGFydCYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgOS8xMCkKSU5GTyAgWzE1OjI0OjI3LjA3Nl0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtzY2FsZS5jbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAxMC8xMCkKSU5GTyAgWzE1OjI0OjI3LjMxMV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTt5ZW9qb2huc29uLmNsYXNzaWYucnBhcnQmIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDEvMTApCklORk8gIFsxNToyNDoyNy41NDhdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7eWVvam9obnNvbi5jbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAyLzEwKQpJTkZPICBbMTU6MjQ6MjcuODA3XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ycGFydCYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgMy8xMCkKSU5GTyAgWzE1OjI0OjI4LjA1MV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTt5ZW9qb2huc29uLmNsYXNzaWYucnBhcnQmIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDQvMTApCklORk8gIFsxNToyNDoyOC4zNDVdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7eWVvam9obnNvbi5jbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA1LzEwKQpJTkZPICBbMTU6MjQ6MjguNTc3XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ycGFydCYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgNi8xMCkKSU5GTyAgWzE1OjI0OjI4LjgxNV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTt5ZW9qb2huc29uLmNsYXNzaWYucnBhcnQmIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDcvMTApCklORk8gIFsxNToyNDoyOS4wNjJdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7eWVvam9obnNvbi5jbGFzc2lmLnJwYXJ0JiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA4LzEwKQpJTkZPICBbMTU6MjQ6MjkuMzA5XSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O3llb2pvaG5zb24uY2xhc3NpZi5ycGFydCYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgOS8xMCkKSU5GTyAgWzE1OjI0OjI5LjYwNl0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTt5ZW9qb2huc29uLmNsYXNzaWYucnBhcnQmIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDEwLzEwKQpJTkZPICBbMTU6MjQ6MjkuNzc0XSBbbWxyM10gRmluaXNoZWQgYmVuY2htYXJrPC9jb2RlPjwvcHJlPgo8L2Rpdj4KPGRpdiBjbGFzcz0ic291cmNlQ29kZSIgaWQ9ImNiMyI+PHByZQpjbGFzcz0ic291cmNlQ29kZSByIGNlbGwtY29kZSI+PGNvZGUgY2xhc3M9InNvdXJjZUNvZGUgciI+PHNwYW4gaWQ9ImNiMy0xIj48YSBocmVmPSIjY2IzLTEiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5ibXI8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij5hZ2dyZWdhdGU8L3NwYW4+KCk8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8ZGl2IGNsYXNzPSJjZWxsLW91dHB1dCBjZWxsLW91dHB1dC1zdGRvdXQiPgo8cHJlPjxjb2RlPiAgICAgIG5yICAgICAgIHRhc2tfaWQgICAgICAgICAgICAgICBsZWFybmVyX2lkIHJlc2FtcGxpbmdfaWQgaXRlcnMgY2xhc3NpZi5jZQogICAmbHQ7aW50Jmd0OyAgICAgICAgJmx0O2NoYXImZ3Q7ICAgICAgICAgICAgICAgICAgICZsdDtjaGFyJmd0OyAgICAgICAgJmx0O2NoYXImZ3Q7ICZsdDtpbnQmZ3Q7ICAgICAgJmx0O251bSZndDsKMTogICAgIDEgZ2VybWFuX2NyZWRpdCAgICAgICAgICAgICBjbGFzc2lmLmtrbm4gICAgICAgICAgICBjdiAgICAxMCAgICAgIDAuMzY0CjI6ICAgICAyIGdlcm1hbl9jcmVkaXQgICAgICAgc2NhbGUuY2xhc3NpZi5ra25uICAgICAgICAgICAgY3YgICAgMTAgICAgICAwLjI4NQozOiAgICAgMyBnZXJtYW5fY3JlZGl0ICB5ZW9qb2huc29uLmNsYXNzaWYua2tubiAgICAgICAgICAgIGN2ICAgIDEwICAgICAgMC4yOTMKNDogICAgIDQgZ2VybWFuX2NyZWRpdCAgICAgICAgICAgIGNsYXNzaWYucnBhcnQgICAgICAgICAgICBjdiAgICAxMCAgICAgIDAuMjYwCjU6ICAgICA1IGdlcm1hbl9jcmVkaXQgICAgICBzY2FsZS5jbGFzc2lmLnJwYXJ0ICAgICAgICAgICAgY3YgICAgMTAgICAgICAwLjI2MAo2OiAgICAgNiBnZXJtYW5fY3JlZGl0IHllb2pvaG5zb24uY2xhc3NpZi5ycGFydCAgICAgICAgICAgIGN2ICAgIDEwICAgICAgMC4yNjAKSGlkZGVuIGNvbHVtbnM6IHJlc2FtcGxlX3Jlc3VsdDwvY29kZT48L3ByZT4KPC9kaXY+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjUiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjUtMSI+PGEgaHJlZj0iI2NiNS0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5hdXRvcGxvdDwvc3Bhbj4oYm1yKTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0LWRpc3BsYXkiPgo8cD48aW1nIHNyYz0iaW5kZXhfZmlsZXMvZmlndXJlLWh0bWwvdW5uYW1lZC1jaHVuay0xOC0xLnBuZyIKZGF0YS1maWctYWxpZ249ImNlbnRlciIgd2lkdGg9IjY3MiIgLz48L3A+CjwvZGl2Pgo8L2Rpdj4="></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="summary" class="level1">
<h1>Summary</h1>
<p>We learned how to apply preprocessing steps such as factor encoding, standard scaling, or Yeo-Johnson transformation directly on a task. Furthermore, we have also seen how to create a <code>GraphLearner</code> which applies a ML pipeline on a task that first does all preprocessing steps defined in the <code>Graph</code> and then trains a learner on the preprocessed task. We also saw that scaling is important for the k-NN learner but not for a decision tree as neither the decision tree structure nor the performance of the decision tree changes.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/mlr-org\.com\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Created with <i class="bi bi-heart-fill"></i> for #rstats.</p>
</div>   
    <div class="nav-footer-center">
<p>CC BY SA 4.0</p>
</div>
    <div class="nav-footer-right">
<p>Website powered by <a href="https://quarto.org/">quarto</a> and <a href="https://www.netlify.com/">Netlify</a>.</p>
</div>
  </div>
</footer>




</body></html>
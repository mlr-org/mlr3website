<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Giuseppe Casalicchio">
<meta name="author" content="Essential Data Science Training GmbH">
<meta name="description" content="Use filters in a mlr3 pipeline">

<title>Filter â€“ mlr-org</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../images/favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-0217fbee799b1e5c46e1a9544cf407f3.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 2,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 5,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">mlr-org</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-overview" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Overview</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-overview">    
        <li>
    <a class="dropdown-item" href="../../../ecosystem.html">
 <span class="dropdown-text">Ecosystem</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../dependencies.html">
 <span class="dropdown-text">Dependencies</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../tasks.html">
 <span class="dropdown-text">Tasks</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../learners.html">
 <span class="dropdown-text">Learners</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../resamplings.html">
 <span class="dropdown-text">Resamplings</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../measures.html">
 <span class="dropdown-text">Measures</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../pipeops.html">
 <span class="dropdown-text">Pipeline Operators</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../graphs.html">
 <span class="dropdown-text">Graphs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../torch_pipeops.html">
 <span class="dropdown-text">Torch Pipeline Operators</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../tuners.html">
 <span class="dropdown-text">Tuners</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../tuning_spaces.html">
 <span class="dropdown-text">Tuning Spaces</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../terminators.html">
 <span class="dropdown-text">Terminators</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../filters.html">
 <span class="dropdown-text">Feature Selection Filter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../fselectors.html">
 <span class="dropdown-text">Feature Selection Wrapper</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../book.html"> 
<span class="menu-text">Book</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../gallery.html"> 
<span class="menu-text">Gallery</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-benchmarks" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Benchmarks</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-benchmarks">    
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_mlr3.html">
 <span class="dropdown-text">mlr3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_mlr3fselect.html">
 <span class="dropdown-text">mlr3fselect</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_mlr3tuning.html">
 <span class="dropdown-text">mlr3tuning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_async.html">
 <span class="dropdown-text">mlr3tuning async</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../team.html"> 
<span class="menu-text">Team</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-more" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">More</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-more">    
        <li>
    <a class="dropdown-item" href="../../../support.html">
 <span class="dropdown-text">Support</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contributing.html">
 <span class="dropdown-text">Contributing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../faq.html">
 <span class="dropdown-text">Frequently Asked Questions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../blogroll.html">
 <span class="dropdown-text">Blogroll</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-rss" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-rss">    
        <li>
    <a class="dropdown-item" href="../../../gallery-all.xml">
 <span class="dropdown-text">Gallery RSS</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite"> <i class="bi bi-chat-dots" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"> <i class="bi bi-stack-overflow" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mlr-org"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Filter</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
  <div id="quarto-announcement" data-announcement-id="50f0eab22d7d8f5381fa1ea26eadc5d4" class="alert alert-primary hidden"><i class="bi bi-info-circle quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p>The website features runtime and memory <a href="benchmarks/benchmarks_mlr3tuning.qmd">benchmarks</a> of the mlr3tuning package now.</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Filter</h1>
                  <div>
        <div class="description">
          <p>Use filters in a mlr3 pipeline</p>
        </div>
      </div>
                </div>
  </div>

  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Authors</div>
      <div class="quarto-title-meta-contents">
               <p>Giuseppe Casalicchio </p>
               <p><a href="https://www.essentialds.de">Essential Data Science Training GmbH</a> </p>
            </div>
    </div>
      
    
      
    </div>
    

  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#goal" id="toc-goal" class="nav-link active" data-scroll-target="#goal">Goal</a></li>
  <li><a href="#german-credit-dataset" id="toc-german-credit-dataset" class="nav-link" data-scroll-target="#german-credit-dataset">German Credit Dataset</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a>
  <ul class="collapse">
  <li><a href="#exercise-1-find-a-suitable-feature-filter" id="toc-exercise-1-find-a-suitable-feature-filter" class="nav-link" data-scroll-target="#exercise-1-find-a-suitable-feature-filter">Exercise 1: Find a suitable Feature Filter</a></li>
  <li><a href="#exercise-2-information-gain-filter" id="toc-exercise-2-information-gain-filter" class="nav-link" data-scroll-target="#exercise-2-information-gain-filter">Exercise 2: Information Gain Filter</a></li>
  <li><a href="#exercise-3-create-and-apply-a-pipeopfilter-to-a-task" id="toc-exercise-3-create-and-apply-a-pipeopfilter-to-a-task" class="nav-link" data-scroll-target="#exercise-3-create-and-apply-a-pipeopfilter-to-a-task">Exercise 3: Create and Apply a PipeOpFilter to a Task</a></li>
  <li><a href="#exercise-4-combine-pipeopfilter-with-a-learner" id="toc-exercise-4-combine-pipeopfilter-with-a-learner" class="nav-link" data-scroll-target="#exercise-4-combine-pipeopfilter-with-a-learner">Exercise 4: Combine PipeOpFilter with a Learner</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<script>
const correctHash = "638e249f4a15ebb84957da130701d138a6e06d88dceeaa2e6dcd91db70cc1381";   // value injected by knitr

/* ---------- reusable helper ---------- */
function b64DecodeUtf8(b64) {
  // 1) atob  -> binary-string   (bytes 0â€¦255)
  // 2) map   -> Uint8Array      (array of bytes)
  // 3) TextDecoder('utf-8')     -> real JS string
  const bytes = Uint8Array.from(atob(b64), c => c.charCodeAt(0));
  return new TextDecoder('utf-8').decode(bytes);
}

async function sha256(txt) {
  const buf = await crypto.subtle.digest('SHA-256',
                 new TextEncoder().encode(txt));
  return Array.from(new Uint8Array(buf))
              .map(b => b.toString(16).padStart(2, '0')).join('');
}

async function unlockOne(btn) {
  const pass = prompt("Password:");
  if (!pass) return;
  if (await sha256(pass) !== correctHash) {
    alert("Wrong password"); return;
  }

  /* --- decode only the solution that belongs to THIS button --- */
  const wrapper = btn.parentElement;             // .b64-wrapper
  wrapper.querySelectorAll('.hidden-solution').forEach(div => {
    div.innerHTML = b64DecodeUtf8(div.dataset.encoded);
    div.classList.remove('hidden-solution');
    div.style.display = 'block';
  });

  /* Remove the button so the user canâ€™t click it again */
  btn.remove();
}
</script>

<noscript>
<div style="border: 1px solid #ccc; padding: 1em; margin-top: 1em; background: #f9f9f9;">
    <strong>JavaScript is required to unlock solutions.</strong><br>
    Please enable JavaScript and reload the page,<br>
    or download the source files from
    <a href="https://github.com/mlr-org/mlr3website/" target="_blank" rel="noopener noreferrer">GitHub</a>
    and run the code locally.
  </div>
</noscript>
<section id="goal" class="level1">
<h1>Goal</h1>
<p>Learn how to rank features of a supervised task by their importance / strength of relationship with the target variable using a feature filter method.</p>
</section>
<section id="german-credit-dataset" class="level1">
<h1>German Credit Dataset</h1>
<p>We create the task as for the resampling exercise: The German Credit Data set.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"mlr3verse"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"data.table"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>task <span class="ot">=</span> <span class="fu">tsk</span>(<span class="st">"german_credit"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercises" class="level1">
<h1>Exercises</h1>
<p>Within the <code>mlr3</code> ecosystem, feature filters are implemented in the <code>mlr3filters</code> package and are typically used in combination with <code>mlr3pipelines</code> to be able to include the whole preprocessing step in a pipeline. In exercises 1 to 3, we apply feature filtering to preprocess the data of a task without using a pipeline. In exercise 4, we will set up a pipeline that combines a learner with the feature filtering as preprocessing step.</p>
<section id="exercise-1-find-a-suitable-feature-filter" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1-find-a-suitable-feature-filter">Exercise 1: Find a suitable Feature Filter</h2>
<!-- Feature filters are comprised of a set of methods for feature selection that aim at quantifying the ''usefulness'' of a feature in a supervised task. -->
<!-- Often, it is desirable to reduce the number of features to both decrease the computational cost of fitting a learner and in some cases even improving the performance of the model. -->
<!-- Based on the metric of a feature filter, features can be ranked and the ones with the strongest relationship with the target variable can be selected to be included in the modelling process. -->
<!-- Typically, feature filters are used when a large number of similar features are available. -->
<!-- Nevertheless, feature filters also are useful when only a medium number of features is available, as they allow for quantifying the importance of a feature in a supervised setting providing insight into the relationship of a feature and the target variable. -->
<!-- Here, we will use feature filters to illuminate the strength of the relationship between features and the target variable. -->
<!-- #FIXME: comment /additional info + link on logistic regression -->
<p>Make yourself familiar with the <code>mlr3filters</code> package (<a href="https://mlr3filters.mlr-org.com/">link</a>). Which <code>Filter</code>s are applicable to all feature types from the task we created above?</p>
<details>
<summary>
<strong>Hint:</strong>
</summary>
<p>Some filters are only applicable to either classification or regression or either numeric or categorical features. Therefore, we are looking for a <code>Filter</code> that is applicable to our classification task and that can be computed for <code>integer</code> and <code>factor</code> features (as these types of features are present in task, see <code>task$feature_types</code>).</p>
<p>The website linked above includes a table that provides detailed information for each <code>Filter</code>.</p>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PHA+T3VyIHRhc2sgaXMgYSBjbGFzc2lmaWNhdGlvbiB0YXNrIGFuZCB3ZSBoYXZlIDxjb2RlPmludGVnZXI8L2NvZGU+LAphbmQgPGNvZGU+ZmFjdG9yPC9jb2RlPiBhbmQgZmVhdHVyZXM6PC9wPgo8ZGl2IGNsYXNzPSJjZWxsIiBkYXRhLWxheW91dC1hbGlnbj0iY2VudGVyIj4KPGRpdiBjbGFzcz0ic291cmNlQ29kZSIgaWQ9ImNiMSI+PHByZQpjbGFzcz0ic291cmNlQ29kZSByIGNlbGwtY29kZSI+PGNvZGUgY2xhc3M9InNvdXJjZUNvZGUgciI+PHNwYW4gaWQ9ImNiMS0xIj48YSBocmVmPSIjY2IxLTEiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT50YXNrPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPnRhc2tfdHlwZTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0IGNlbGwtb3V0cHV0LXN0ZG91dCI+CjxwcmU+PGNvZGU+WzFdICZxdW90O2NsYXNzaWYmcXVvdDs8L2NvZGU+PC9wcmU+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJzb3VyY2VDb2RlIiBpZD0iY2IzIj48cHJlCmNsYXNzPSJzb3VyY2VDb2RlIHIgY2VsbC1jb2RlIj48Y29kZSBjbGFzcz0ic291cmNlQ29kZSByIj48c3BhbiBpZD0iY2IzLTEiPjxhIGhyZWY9IiNjYjMtMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmZ0eXBlcyA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+dW5pcXVlPC9zcGFuPih0YXNrPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPmZlYXR1cmVfdHlwZXM8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+dHlwZSk8L3NwYW4+CjxzcGFuIGlkPSJjYjMtMiI+PGEgaHJlZj0iI2NiMy0yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+ZnR5cGVzPC9zcGFuPjwvY29kZT48L3ByZT48L2Rpdj4KPGRpdiBjbGFzcz0iY2VsbC1vdXRwdXQgY2VsbC1vdXRwdXQtc3Rkb3V0Ij4KPHByZT48Y29kZT5bMV0gJnF1b3Q7aW50ZWdlciZxdW90OyAmcXVvdDtmYWN0b3ImcXVvdDsgICZxdW90O29yZGVyZWQmcXVvdDs8L2NvZGU+PC9wcmU+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJzb3VyY2VDb2RlIiBpZD0iY2I1Ij48cHJlCmNsYXNzPSJzb3VyY2VDb2RlIHIgY2VsbC1jb2RlIj48Y29kZSBjbGFzcz0ic291cmNlQ29kZSByIj48c3BhbiBpZD0iY2I1LTEiPjxhIGhyZWY9IiNjYjUtMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJjbyI+IyBzdWJzZXQgYWxsIGZpbHRlcnMgdGhhdCBzdXBwb3J0IGludGVnZXIgYW5kIGZhY3RvciBmZWF0dXJlczwvc3Bhbj48L3NwYW4+CjxzcGFuIGlkPSJjYjUtMiI+PGEgaHJlZj0iI2NiNS0yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5saWJyYXJ5PC9zcGFuPihtbHIzZmlsdGVycyk8L3NwYW4+CjxzcGFuIGlkPSJjYjUtMyI+PGEgaHJlZj0iI2NiNS0zIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+ZmlsdGVycyA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+YXMuZGF0YS50YWJsZTwvc3Bhbj4obWxyX2ZpbHRlcnMpPC9zcGFuPgo8c3BhbiBpZD0iY2I1LTQiPjxhIGhyZWY9IiNjYjUtNCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmNoZWNrX2Z0eXBlcyA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+c2FwcGx5PC9zcGFuPihmaWx0ZXJzPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPmZlYXR1cmVfdHlwZXMsIDxzcGFuIGNsYXNzPSJjZiI+ZnVuY3Rpb248L3NwYW4+KHgpIDxzcGFuIGNsYXNzPSJmdSI+YWxsPC9zcGFuPihmdHlwZXMgPHNwYW4gY2xhc3M9InNjIj4laW4lPC9zcGFuPiB4KSk8L3NwYW4+CjxzcGFuIGlkPSJjYjUtNSI+PGEgaHJlZj0iI2NiNS01IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+ZmlsdGVyc1tjaGVja19mdHlwZXMsIF08L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8ZGl2IGNsYXNzPSJjZWxsLW91dHB1dCBjZWxsLW91dHB1dC1zdGRvdXQiPgo8cHJlPjxjb2RlPktleTogJmx0O2tleSZndDsKICAgICAgICAgICAgICAgICAga2V5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsICAgdGFza190eXBlcyB0YXNrX3Byb3BlcnRpZXMKICAgICAgICAgICAgICAgJmx0O2NoYXImZ3Q7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0O2NoYXImZ3Q7ICAgICAgICZsdDtsaXN0Jmd0OyAgICAgICAgICAmbHQ7bGlzdCZndDsKIDE6ICAgICAgICAgICAgICBjbWltICAgICAgTWluaW1hbCBDb25kaXRpb25hbCBNdXR1YWwgSW5mb3JtYXRpb24gTWF4aW1pemF0aW9uIGNsYXNzaWYscmVnciAgICAgICAgICAgICAgICAKIDI6ICAgICAgICAgICAgICBkaXNyICAgICAgICAgICAgICAgICAgICAgICBEb3VibGUgSW5wdXQgU3ltbWV0cmljYWwgUmVsZXZhbmNlIGNsYXNzaWYscmVnciAgICAgICAgICAgICAgICAKIDM6ICAgICAgICBpbXBvcnRhbmNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbXBvcnRhbmNlIFNjb3JlICAgICAgY2xhc3NpZiAgICAgICAgICAgICAgICAKIDQ6ICBpbmZvcm1hdGlvbl9nYWluICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbmZvcm1hdGlvbiBHYWluIGNsYXNzaWYscmVnciAgICAgICAgICAgICAgICAKIDU6ICAgICAgICAgICAgICAgam1pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSm9pbnQgTXV0dWFsIEluZm9ybWF0aW9uIGNsYXNzaWYscmVnciAgICAgICAgICAgICAgICAKIDY6ICAgICAgICAgICAgICBqbWltICAgICAgICAgICAgTWluaW1hbCBKb2ludCBNdXR1YWwgSW5mb3JtYXRpb24gTWF4aW1pemF0aW9uIGNsYXNzaWYscmVnciAgICAgICAgICAgICAgICAKIDc6ICAgICAgICAgICAgICAgbWltICAgICAgICAgICAgICAgICAgICAgICAgICBNdXR1YWwgSW5mb3JtYXRpb24gTWF4aW1pemF0aW9uIGNsYXNzaWYscmVnciAgICAgICAgICAgICAgICAKIDg6ICAgICAgICAgICAgICBtcm1yICAgICAgICAgICAgICAgICAgICAgTWluaW11bSBSZWR1bmRhbmN5IE1heGltYWwgUmVsZXZhbmN5IGNsYXNzaWYscmVnciAgICAgICAgICAgICAgICAKIDk6ICAgICAgICAgICAgIG5qbWltIE1pbmltYWwgTm9ybWFsaXNlZCBKb2ludCBNdXR1YWwgSW5mb3JtYXRpb24gTWF4aW1pemF0aW9uIGNsYXNzaWYscmVnciAgICAgICAgICAgICAgICAKMTA6ICAgICAgIHBlcmZvcm1hbmNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcmVkaWN0aXZlIFBlcmZvcm1hbmNlICAgICAgY2xhc3NpZiAgICAgICAgICAgICAgICAKMTE6ICAgICAgIHBlcm11dGF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBlcm11dGF0aW9uIFNjb3JlICAgICAgY2xhc3NpZiAgICAgICAgICAgICAgICAKMTI6ICAgICAgICAgICAgcmVsaWVmICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVMSUVGIGNsYXNzaWYscmVnciAgICAgICAgICAgICAgICAKMTM6IHNlbGVjdGVkX2ZlYXR1cmVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVtYmVkZGVkIEZlYXR1cmUgU2VsZWN0aW9uICAgICAgY2xhc3NpZiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZV90eXBlcyAgICAgICAgICBwYWNrYWdlcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICZsdDtsaXN0Jmd0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0O2xpc3QmZ3Q7ICAgICAgICAgICAgJmx0O2xpc3QmZ3Q7CiAxOiAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlYWRzICAgICAgICAgICAgICAgICAgICAgICBpbnRlZ2VyLG51bWVyaWMsZmFjdG9yLG9yZGVyZWQgICAgICAgICAgIHByYXpuaWsKIDI6ICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVhZHMgICAgICAgICAgICAgICAgICAgICAgIGludGVnZXIsbnVtZXJpYyxmYWN0b3Isb3JkZXJlZCAgICAgICAgICAgcHJhem5pawogMzogICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCBsb2dpY2FsLGludGVnZXIsbnVtZXJpYyxjaGFyYWN0ZXIsZmFjdG9yLG9yZGVyZWQsLi4uICAgICAgICAgICAgICBtbHIzCiA0OiB0eXBlLGVxdWFsLGRpc2NJbnRlZ2Vycyx0aHJlYWRzICAgICAgICAgICAgICAgICAgICAgICBpbnRlZ2VyLG51bWVyaWMsZmFjdG9yLG9yZGVyZWQgICAgIEZTZWxlY3RvclJjcHAKIDU6ICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVhZHMgICAgICAgICAgICAgICAgICAgICAgIGludGVnZXIsbnVtZXJpYyxmYWN0b3Isb3JkZXJlZCAgICAgICAgICAgcHJhem5pawogNjogICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWFkcyAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdlcixudW1lcmljLGZhY3RvcixvcmRlcmVkICAgICAgICAgICBwcmF6bmlrCiA3OiAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlYWRzICAgICAgICAgICAgICAgICAgICAgICBpbnRlZ2VyLG51bWVyaWMsZmFjdG9yLG9yZGVyZWQgICAgICAgICAgIHByYXpuaWsKIDg6ICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVhZHMgICAgICAgICAgICAgICAgICAgICAgIGludGVnZXIsbnVtZXJpYyxmYWN0b3Isb3JkZXJlZCAgICAgICAgICAgcHJhem5pawogOTogICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWFkcyAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdlcixudW1lcmljLGZhY3RvcixvcmRlcmVkICAgICAgICAgICBwcmF6bmlrCjEwOiAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kIGxvZ2ljYWwsaW50ZWdlcixudW1lcmljLGNoYXJhY3RlcixmYWN0b3Isb3JkZXJlZCwuLi4gbWxyMyxtbHIzbWVhc3VyZXMKMTE6ICAgICAgICAgICAgICAgICBzdGFuZGFyZGl6ZSxubWMgbG9naWNhbCxpbnRlZ2VyLG51bWVyaWMsY2hhcmFjdGVyLGZhY3RvcixvcmRlcmVkLC4uLiBtbHIzLG1scjNtZWFzdXJlcwoxMjogICAgICBuZWlnaGJvdXJzQ291bnQsc2FtcGxlU2l6ZSAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdlcixudW1lcmljLGZhY3RvcixvcmRlcmVkICAgICBGU2VsZWN0b3JSY3BwCjEzOiAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kIGxvZ2ljYWwsaW50ZWdlcixudW1lcmljLGNoYXJhY3RlcixmYWN0b3Isb3JkZXJlZCwuLi4gICAgICAgICAgICAgIG1scjM8L2NvZGU+PC9wcmU+CjwvZGl2Pgo8L2Rpdj4KPHA+TG9va2luZyBhdCB0aGUgdGFibGUgPGEKaHJlZj0iaHR0cHM6Ly9tbHIzZmlsdGVycy5tbHItb3JnLmNvbS8iPmhlcmU8L2E+LCBwb3RlbnRpYWwgZmlsdGVycwphcmU6PC9wPgo8cD48Y29kZT5jbWltPC9jb2RlPiwgPGNvZGU+ZGlzcjwvY29kZT4sIDxjb2RlPmltcG9ydGFuY2U8L2NvZGU+LAo8Y29kZT5pbmZvcm1hdGlvbl9nYWluPC9jb2RlPiwgPGNvZGU+am1pPC9jb2RlPiwgPGNvZGU+am1pbTwvY29kZT4sCjxjb2RlPm1pbTwvY29kZT4sIDxjb2RlPm1ybXI8L2NvZGU+LCA8Y29kZT5uam1pbTwvY29kZT4sCjxjb2RlPnBlcmZvcm1hbmNlPC9jb2RlPiwgPGNvZGU+cGVybXV0YXRpb248L2NvZGU+LCA8Y29kZT5yZWxpZWY8L2NvZGU+LAo8Y29kZT5zZWxlY3RlZF9mZWF0dXJlczwvY29kZT4uPC9wPgo8cD5Zb3UgY2FuIHJlYWQgdGhlaXIgZG9jdW1lbnRhdGlvbiBieSBsb29raW5nIGF0Cjxjb2RlPj9tbHJfZmlsdGVyc18mbHQ7aWQmZ3Q7PC9jb2RlPiwgKDxjb2RlPiZsdDtpZCZndDs8L2NvZGU+IHNob3VsZCBiZQpyZXBsYWNlZCB3aXRoIHRoZSBmaWx0ZXIgaWQsIGUuZy4sIDxjb2RlPmNtaW08L2NvZGU+KS48L3A+CjxwPk5vdGUgdGhhdCA8Y29kZT5pbXBvcnRhbmNlPC9jb2RlPiwgPGNvZGU+cGVyZm9ybWFuY2U8L2NvZGU+LAo8Y29kZT5wZXJtdXRhdGlvbjwvY29kZT4sIGFuZCA8Y29kZT5zZWxlY3RlZF9mZWF0dXJlczwvY29kZT4gYXJlIHNwZWNpYWwKaW4gdGhlIHNlbnNlIHRoYXQgdGhleSByZXF1aXJlIDxjb2RlPkxlYXJuZXI8L2NvZGU+cyB0aGVtc2VsdmVzLjwvcD4="></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise-2-information-gain-filter" class="level2">
<h2 class="anchored" data-anchor-id="exercise-2-information-gain-filter">Exercise 2: Information Gain Filter</h2>
<p>We now want to use the <code>information_gain</code> filter which requires to install the <code>FSelectorRcpp</code> package. This filter quantifies the gain in information by considering the following difference: <code>H(Target) + H(Feature) - H(Target, Feature)</code> Here, <code>H(X)</code> is the Shannon entropy for variable <code>X</code> and <code>H(X, Y)</code> is the joint Shannon entropy for variable <code>X</code> conditioned on <code>Y</code>.</p>
<p>Create an information gain filter and compute the information gain for each feature.</p>
<p>Visualize the score for each feature and decide how many and which features to include.</p>
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<p>Use <code>flt("information_gain")</code> to create an <code>information_gain</code> filter and calculate the filter scores of the features. See <code>?mlr_filters_information_gain</code> (or equivalently <code>flt("information_gain")$help()</code>) for more details on how to use a filter. If it does not work, you can use e.g.&nbsp;<code>flt("importance", learner = lrn("classif.rpart"))</code> which uses the feature importance of a <code>classif.rpart</code> decision tree to rank the features for the feature filter.</p>
<p>For visualization, you can, for example, create a scree plot (similar as in principle component analysis) that plots the filter score for each feature on the y-axis and the features on the x-axis.</p>
<p>Using a rule of thumb, e.g., the â€˜â€™elbow ruleâ€™â€™ you can determine the number of features to include.</p>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3filters)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3viz)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FSelectorRcpp)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>filter <span class="ot">=</span> <span class="fu">flt</span>(...)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>filter<span class="sc">$</span><span class="fu">calculate</span>()</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PGRpdiBjbGFzcz0iY2VsbCIgZGF0YS1sYXlvdXQtYWxpZ249ImNlbnRlciI+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjEiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjEtMSI+PGEgaHJlZj0iI2NiMS0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5saWJyYXJ5PC9zcGFuPihtbHIzZmlsdGVycyk8L3NwYW4+CjxzcGFuIGlkPSJjYjEtMiI+PGEgaHJlZj0iI2NiMS0yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5saWJyYXJ5PC9zcGFuPihtbHIzdml6KTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0zIj48YSBocmVmPSIjY2IxLTMiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48c3BhbiBjbGFzcz0iZnUiPmxpYnJhcnk8L3NwYW4+KEZTZWxlY3RvclJjcHApPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTQiPjxhIGhyZWY9IiNjYjEtNCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmZpbHRlciA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+Zmx0PC9zcGFuPig8c3BhbiBjbGFzcz0ic3QiPiZxdW90O2luZm9ybWF0aW9uX2dhaW4mcXVvdDs8L3NwYW4+KTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS01Ij48YSBocmVmPSIjY2IxLTUiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5maWx0ZXI8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij5jYWxjdWxhdGU8L3NwYW4+KHRhc2spPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTYiPjxhIGhyZWY9IiNjYjEtNiIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJmdSI+YXV0b3Bsb3Q8L3NwYW4+KGZpbHRlcikgIDxzcGFuIGNsYXNzPSJjbyI+IyBzdGF0dXMsIGNyZWRpdF9oaXN0b3J5IGFuZCBzYXZpbmdzPC9zcGFuPjwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0LWRpc3BsYXkiPgo8cD48aW1nIHNyYz0iaW5kZXhfZmlsZXMvZmlndXJlLWh0bWwvdW5uYW1lZC1jaHVuay03LTEucG5nIgpkYXRhLWZpZy1hbGlnbj0iY2VudGVyIiB3aWR0aD0iNjcyIiAvPjwvcD4KPC9kaXY+CjwvZGl2Pg=="></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise-3-create-and-apply-a-pipeopfilter-to-a-task" class="level2">
<h2 class="anchored" data-anchor-id="exercise-3-create-and-apply-a-pipeopfilter-to-a-task">Exercise 3: Create and Apply a PipeOpFilter to a Task</h2>
<p>Since the k-NN learner suffers from the curse of dimensionality, we want set up a preprocessing <code>PipeOp</code> to subset our set of features to the 5 most important ones according to the information gain filter (see <code>flt("information_gain")$help()</code>). In general, you can see a list of other possible filters by looking at the dictionary <code>as.data.table(mlr_filters)</code>. You can construct a <code>PipeOp</code> object with the <code>po()</code> function from the <code>mlr3pipelines</code> package. See <code>mlr_pipeops$keys()</code> for possible choices. Create a <code>PipeOp</code> that filters features of the <code>german_credit</code> task and creates a new task containing only the 5 most important ones according to the information gain filter.</p>
<!-- <details> -->
<!-- <summary>**Details on the ANOVA F-test filter:**</summary> -->
<!-- The filter conducts an analysis of variance for each feature, where the feature explains the target class variable. -->
<!-- The score is determined by the F statistic's value. -->
<!-- The more different the mean values of a feature between the target classes are, the higher is the F statistic. -->
<!-- </details> -->
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<ul>
<li>The filter can be created by <code>flt("information_gain")</code> (see also the help page <code>flt("information_gain")$help()</code>).</li>
<li>In our case, we have to pass the <code>"filter"</code> key to the first argument of the <code>po()</code> function and the filter previously created with the <code>flt</code> function to the <code>filter</code> argument of the <code>po()</code> function to construct a <code>PipeOpFilter</code> object that performs feature filtering (see also code examples in the help page <code>?PipeOpFilter</code>).</li>
<li>The help page of <code>?PipeOpFilter</code> also reveals the parameters we can specify. For example, to select the 5 most important features, we can set <code>filter.nfeat</code>. This can be done using the <code>param_vals</code> argument of the <code>po()</code> function during construction or by adding the parameter value to the <code>param_set$values</code> field of an already created <code>PipeOpFilter</code> object (see also code examples in the help page).</li>
<li>The created <code>PipeOpFilter</code> object can be applied to a <code>Task</code> object to create the filtered <code>Task</code>. To do so, we can use the <code>$train(input)</code> field of the <code>PipeOpFilter</code> object and pass a <strong>list</strong> containing the task we want to filter.</li>
</ul>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3pipelines)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the filter.nfeat parameter directly when constructing the PipeOp:</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>pofilter <span class="ot">=</span> <span class="fu">po</span>(<span class="st">"..."</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">filter =</span> <span class="fu">flt</span>(...),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">... =</span> <span class="fu">list</span>(<span class="at">filter.nfeat =</span> ...))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative (first create the filter PipeOp and then set the parameter):</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>pofilter <span class="ot">=</span> <span class="fu">po</span>(<span class="st">"..."</span>, <span class="at">filter =</span> <span class="fu">flt</span>(...))</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>pofilter<span class="sc">$</span>...<span class="sc">$</span>filter.nfeat <span class="ot">=</span> ...</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Train the PipeOpFilter on the task</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>filtered_task <span class="ot">=</span> pofilter<span class="sc">$</span><span class="fu">train</span>(<span class="at">input =</span> <span class="fu">list</span>(...))</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>filtered_task</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>task</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PGRpdiBjbGFzcz0iY2VsbCIgZGF0YS1sYXlvdXQtYWxpZ249ImNlbnRlciI+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjEiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjEtMSI+PGEgaHJlZj0iI2NiMS0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5saWJyYXJ5PC9zcGFuPihtbHIzcGlwZWxpbmVzKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0yIj48YSBocmVmPSIjY2IxLTIiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48c3BhbiBjbGFzcz0iY28iPiMgU2V0IHRoZSBmaWx0ZXIubmZlYXQgcGFyYW1ldGVyIGRpcmVjdGx5IHdoZW4gY29uc3RydWN0aW5nIHRoZSBQaXBlT3A6PC9zcGFuPjwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0zIj48YSBocmVmPSIjY2IxLTMiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5wb2ZpbHRlciA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+cG88L3NwYW4+KDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7ZmlsdGVyJnF1b3Q7PC9zcGFuPiw8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNCI+PGEgaHJlZj0iI2NiMS00IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+ICA8c3BhbiBjbGFzcz0iYXQiPmZpbHRlciA9PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmZsdDwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtpbmZvcm1hdGlvbl9nYWluJnF1b3Q7PC9zcGFuPiksPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTUiPjxhIGhyZWY9IiNjYjEtNSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPiAgIDxzcGFuIGNsYXNzPSJhdCI+cGFyYW1fdmFscyA9PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmxpc3Q8L3NwYW4+KDxzcGFuIGNsYXNzPSJhdCI+ZmlsdGVyLm5mZWF0ID08L3NwYW4+IDxzcGFuIGNsYXNzPSJkdiI+NTwvc3Bhbj48c3BhbiBjbGFzcz0iZHQiPkw8L3NwYW4+KSk8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNiI+PGEgaHJlZj0iI2NiMS02IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PC9zcGFuPgo8c3BhbiBpZD0iY2IxLTciPjxhIGhyZWY9IiNjYjEtNyIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJjbyI+IyBBbHRlcm5hdGl2ZSAoZmlyc3QgY3JlYXRlIHRoZSBmaWx0ZXIgUGlwZU9wIGFuZCB0aGVuIHNldCB0aGUgcGFyYW1ldGVyKTo8L3NwYW4+PC9zcGFuPgo8c3BhbiBpZD0iY2IxLTgiPjxhIGhyZWY9IiNjYjEtOCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnBvZmlsdGVyIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5wbzwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtmaWx0ZXImcXVvdDs8L3NwYW4+LCA8c3BhbiBjbGFzcz0iYXQiPmZpbHRlciA9PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmZsdDwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtpbmZvcm1hdGlvbl9nYWluJnF1b3Q7PC9zcGFuPikpPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTkiPjxhIGhyZWY9IiNjYjEtOSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnBvZmlsdGVyPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPnBhcmFtX3NldDxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj52YWx1ZXM8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+ZmlsdGVyLm5mZWF0IDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImR2Ij41PC9zcGFuPjxzcGFuIGNsYXNzPSJkdCI+TDwvc3Bhbj48L3NwYW4+CjxzcGFuIGlkPSJjYjEtMTAiPjxhIGhyZWY9IiNjYjEtMTAiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48L3NwYW4+CjxzcGFuIGlkPSJjYjEtMTEiPjxhIGhyZWY9IiNjYjEtMTEiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5maWx0ZXJlZF90YXNrIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gcG9maWx0ZXI8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij50cmFpbjwvc3Bhbj4oPHNwYW4gY2xhc3M9ImZ1Ij5saXN0PC9zcGFuPih0YXNrKSlbWzxzcGFuIGNsYXNzPSJkdiI+MTwvc3Bhbj5dXTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0xMiI+PGEgaHJlZj0iI2NiMS0xMiIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmZpbHRlcmVkX3Rhc2s8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8ZGl2IGNsYXNzPSJjZWxsLW91dHB1dCBjZWxsLW91dHB1dC1zdGRvdXQiPgo8cHJlPjxjb2RlPiZsdDtUYXNrQ2xhc3NpZjpnZXJtYW5fY3JlZGl0Jmd0OyAoMTAwMCB4IDYpOiBHZXJtYW4gQ3JlZGl0CiogVGFyZ2V0OiBjcmVkaXRfcmlzawoqIFByb3BlcnRpZXM6IHR3b2NsYXNzCiogRmVhdHVyZXMgKDUpOgogIC0gZmN0ICg0KTogY3JlZGl0X2hpc3RvcnksIHB1cnBvc2UsIHNhdmluZ3MsIHN0YXR1cwogIC0gaW50ICgxKTogZHVyYXRpb248L2NvZGU+PC9wcmU+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJzb3VyY2VDb2RlIiBpZD0iY2IzIj48cHJlCmNsYXNzPSJzb3VyY2VDb2RlIHIgY2VsbC1jb2RlIj48Y29kZSBjbGFzcz0ic291cmNlQ29kZSByIj48c3BhbiBpZD0iY2IzLTEiPjxhIGhyZWY9IiNjYjMtMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnRhc2s8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8ZGl2IGNsYXNzPSJjZWxsLW91dHB1dCBjZWxsLW91dHB1dC1zdGRvdXQiPgo8cHJlPjxjb2RlPiZsdDtUYXNrQ2xhc3NpZjpnZXJtYW5fY3JlZGl0Jmd0OyAoMTAwMCB4IDIxKTogR2VybWFuIENyZWRpdAoqIFRhcmdldDogY3JlZGl0X3Jpc2sKKiBQcm9wZXJ0aWVzOiB0d29jbGFzcwoqIEZlYXR1cmVzICgyMCk6CiAgLSBmY3QgKDE0KTogY3JlZGl0X2hpc3RvcnksIGVtcGxveW1lbnRfZHVyYXRpb24sIGZvcmVpZ25fd29ya2VyLCBob3VzaW5nLCBqb2IsIG90aGVyX2RlYnRvcnMsCiAgICBvdGhlcl9pbnN0YWxsbWVudF9wbGFucywgcGVvcGxlX2xpYWJsZSwgcGVyc29uYWxfc3RhdHVzX3NleCwgcHJvcGVydHksIHB1cnBvc2UsIHNhdmluZ3MsIHN0YXR1cywKICAgIHRlbGVwaG9uZQogIC0gaW50ICgzKTogYWdlLCBhbW91bnQsIGR1cmF0aW9uCiAgLSBvcmQgKDMpOiBpbnN0YWxsbWVudF9yYXRlLCBudW1iZXJfY3JlZGl0cywgcHJlc2VudF9yZXNpZGVuY2U8L2NvZGU+PC9wcmU+CjwvZGl2Pgo8L2Rpdj4="></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise-4-combine-pipeopfilter-with-a-learner" class="level2">
<h2 class="anchored" data-anchor-id="exercise-4-combine-pipeopfilter-with-a-learner">Exercise 4: Combine PipeOpFilter with a Learner</h2>
<p>Do the following tasks:</p>
<ol type="1">
<li>Combine the <code>PipeOpFilter</code> from the previous exercise with a k-NN learner to create a so-called <code>Graph</code> (it can contain multiple preprocessing steps) using the <code>%&gt;&gt;%</code> operator.</li>
<li>Convert the <code>Graph</code> to a <code>GraphLearner</code> so that it behaves like a new learner that first does feature filtering and then trains a model on the filtered data and run the <code>resample()</code> function to estimate the performance of the <code>GraphLearner</code> with a 5-fold cross-validation.</li>
<li>Change the value of the <code>nfeat.filter</code> parameter (which was set to 5 in the previous exercise) and run again <code>resample()</code>.</li>
</ol>
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<ul>
<li>Create a kNN learner using <code>lrn()</code>. Remember that the shortcut for a kNN classifier ist <code>"classif.kknn"</code>.</li>
<li>You can concatenate different preprocessing steps and a learner using the <code>%&gt;&gt;%</code> operator.</li>
<li>Use <code>as_learner</code> to create a <code>GraphLearner</code> (see also the code examples in the help page <code>?GraphLearner</code>).</li>
</ul>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3learners)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>graph <span class="ot">=</span> ... <span class="sc">%&gt;&gt;%</span> <span class="fu">lrn</span>(<span class="st">"..."</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>glrn <span class="ot">=</span> <span class="fu">as_learner</span>(...)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>rr <span class="ot">=</span> <span class="fu">resample</span>(<span class="at">task =</span> ..., <span class="at">learner =</span> ..., <span class="at">resampling =</span> ...)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>rr<span class="sc">$</span><span class="fu">aggregate</span>()</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Change `nfeat.filter` and run resampling again using same train-test splits</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>rr2 <span class="ot">=</span> <span class="fu">resample</span>(<span class="at">task =</span> ..., <span class="at">learner =</span> ..., <span class="at">resampling =</span> rr<span class="sc">$</span>resampling)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>rr2<span class="sc">$</span><span class="fu">aggregate</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PGRpdiBjbGFzcz0iY2VsbCIgZGF0YS1sYXlvdXQtYWxpZ249ImNlbnRlciI+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjEiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjEtMSI+PGEgaHJlZj0iI2NiMS0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5zZXQuc2VlZDwvc3Bhbj4oPHNwYW4gY2xhc3M9ImR2Ij4xPC9zcGFuPik8L3NwYW4+CjxzcGFuIGlkPSJjYjEtMiI+PGEgaHJlZj0iI2NiMS0yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5saWJyYXJ5PC9zcGFuPihtbHIzbGVhcm5lcnMpPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTMiPjxhIGhyZWY9IiNjYjEtMyIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmdyYXBoIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gcG9maWx0ZXIgPHNwYW4gY2xhc3M9InNjIj4lJmd0OyZndDslPC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmxybjwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtjbGFzc2lmLmtrbm4mcXVvdDs8L3NwYW4+KTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS00Ij48YSBocmVmPSIjY2IxLTQiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5nbHJuIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5hc19sZWFybmVyPC9zcGFuPihncmFwaCk8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNSI+PGEgaHJlZj0iI2NiMS01IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cnIgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPnJlc2FtcGxlPC9zcGFuPig8c3BhbiBjbGFzcz0iYXQiPnRhc2sgPTwvc3Bhbj4gdGFzaywgPHNwYW4gY2xhc3M9ImF0Ij5sZWFybmVyID08L3NwYW4+IGdscm4sIDxzcGFuIGNsYXNzPSJhdCI+cmVzYW1wbGluZyA9PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPnJzbXA8L3NwYW4+KDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7Y3YmcXVvdDs8L3NwYW4+LCA8c3BhbiBjbGFzcz0iYXQiPmZvbGRzID08L3NwYW4+IDxzcGFuIGNsYXNzPSJkdiI+NTwvc3Bhbj4pKTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0IGNlbGwtb3V0cHV0LXN0ZG91dCI+CjxwcmU+PGNvZGU+SU5GTyAgWzEwOjM3OjU1LjM0MV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtpbmZvcm1hdGlvbl9nYWluLmNsYXNzaWYua2tubiYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgMS81KQpJTkZPICBbMTA6Mzc6NTUuOTMzXSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O2luZm9ybWF0aW9uX2dhaW4uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAyLzUpCklORk8gIFsxMDozNzo1Ni41OThdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7aW5mb3JtYXRpb25fZ2Fpbi5jbGFzc2lmLmtrbm4mIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDMvNSkKSU5GTyAgWzEwOjM3OjU3LjQyMV0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtpbmZvcm1hdGlvbl9nYWluLmNsYXNzaWYua2tubiYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgNC81KQpJTkZPICBbMTA6Mzc6NTguMTUwXSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O2luZm9ybWF0aW9uX2dhaW4uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciA1LzUpPC9jb2RlPjwvcHJlPgo8L2Rpdj4KPGRpdiBjbGFzcz0ic291cmNlQ29kZSIgaWQ9ImNiMyI+PHByZQpjbGFzcz0ic291cmNlQ29kZSByIGNlbGwtY29kZSI+PGNvZGUgY2xhc3M9InNvdXJjZUNvZGUgciI+PHNwYW4gaWQ9ImNiMy0xIj48YSBocmVmPSIjY2IzLTEiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5ycjxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj48c3BhbiBjbGFzcz0iZnUiPmFnZ3JlZ2F0ZTwvc3Bhbj4oKTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0IGNlbGwtb3V0cHV0LXN0ZG91dCI+CjxwcmU+PGNvZGU+Y2xhc3NpZi5jZSAKICAgICAwLjI3MSA8L2NvZGU+PC9wcmU+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJzb3VyY2VDb2RlIiBpZD0iY2I1Ij48cHJlCmNsYXNzPSJzb3VyY2VDb2RlIHIgY2VsbC1jb2RlIj48Y29kZSBjbGFzcz0ic291cmNlQ29kZSByIj48c3BhbiBpZD0iY2I1LTEiPjxhIGhyZWY9IiNjYjUtMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJjbyI+IyBDaGFuZ2UgYG5mZWF0LmZpbHRlcmAgYW5kIHJ1biByZXNhbXBsaW5nIGFnYWluIHVzaW5nIHNhbWUgdHJhaW4tdGVzdCBzcGxpdHM8L3NwYW4+PC9zcGFuPgo8c3BhbiBpZD0iY2I1LTIiPjxhIGhyZWY9IiNjYjUtMiIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmdscm48c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+cGFyYW1fc2V0PHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPnZhbHVlczxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj5pbmZvcm1hdGlvbl9nYWluLmZpbHRlci5uZmVhdCA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJkdiI+Mjwvc3Bhbj48L3NwYW4+CjxzcGFuIGlkPSJjYjUtMyI+PGEgaHJlZj0iI2NiNS0zIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cnIyIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5yZXNhbXBsZTwvc3Bhbj4oPHNwYW4gY2xhc3M9ImF0Ij50YXNrID08L3NwYW4+IHRhc2ssIDxzcGFuIGNsYXNzPSJhdCI+bGVhcm5lciA9PC9zcGFuPiBnbHJuLCA8c3BhbiBjbGFzcz0iYXQiPnJlc2FtcGxpbmcgPTwvc3Bhbj4gcnI8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+cmVzYW1wbGluZyk8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8ZGl2IGNsYXNzPSJjZWxsLW91dHB1dCBjZWxsLW91dHB1dC1zdGRvdXQiPgo8cHJlPjxjb2RlPklORk8gIFsxMDozODowMC4wOTFdIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7aW5mb3JtYXRpb25fZ2Fpbi5jbGFzc2lmLmtrbm4mIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDEvNSkKSU5GTyAgWzEwOjM4OjAwLjQ3OF0gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtpbmZvcm1hdGlvbl9nYWluLmNsYXNzaWYua2tubiYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgMi81KQpJTkZPICBbMTA6Mzg6MDAuNzAwXSBbbWxyM10gQXBwbHlpbmcgbGVhcm5lciAmIzM5O2luZm9ybWF0aW9uX2dhaW4uY2xhc3NpZi5ra25uJiMzOTsgb24gdGFzayAmIzM5O2dlcm1hbl9jcmVkaXQmIzM5OyAoaXRlciAzLzUpCklORk8gIFsxMDozODowMC45MDldIFttbHIzXSBBcHBseWluZyBsZWFybmVyICYjMzk7aW5mb3JtYXRpb25fZ2Fpbi5jbGFzc2lmLmtrbm4mIzM5OyBvbiB0YXNrICYjMzk7Z2VybWFuX2NyZWRpdCYjMzk7IChpdGVyIDQvNSkKSU5GTyAgWzEwOjM4OjAxLjEwM10gW21scjNdIEFwcGx5aW5nIGxlYXJuZXIgJiMzOTtpbmZvcm1hdGlvbl9nYWluLmNsYXNzaWYua2tubiYjMzk7IG9uIHRhc2sgJiMzOTtnZXJtYW5fY3JlZGl0JiMzOTsgKGl0ZXIgNS81KTwvY29kZT48L3ByZT4KPC9kaXY+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjciPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjctMSI+PGEgaHJlZj0iI2NiNy0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+cnIyPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPjxzcGFuIGNsYXNzPSJmdSI+YWdncmVnYXRlPC9zcGFuPigpPC9zcGFuPjwvY29kZT48L3ByZT48L2Rpdj4KPGRpdiBjbGFzcz0iY2VsbC1vdXRwdXQgY2VsbC1vdXRwdXQtc3Rkb3V0Ij4KPHByZT48Y29kZT5jbGFzc2lmLmNlIAogICAgIDAuMjg2IDwvY29kZT48L3ByZT4KPC9kaXY+CjwvZGl2Pg=="></div></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="summary" class="level1">
<h1>Summary</h1>
<p>We learned how to use feature filters to rank the features w.r.t. a feature filter method in a supervised setting and how to subset a task accordingly.</p>
<p>Ideally, feature filtering is directly incorporated into the learning procedure by making use of a pipeline so that performance estimation after feature filtering is not biased.</p>
<!-- In later exercises, we will see how the performance of a whole pipeline can be properly evaluated. -->


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/mlr-org\.com\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Created with <i class="bi bi-heart-fill"></i> for #rstats.</p>
</div>   
    <div class="nav-footer-center">
<p>CC BY SA 4.0</p>
</div>
    <div class="nav-footer-right">
<p>Website powered by <a href="https://quarto.org/">quarto</a> and <a href="https://www.netlify.com/">Netlify</a>.</p>
</div>
  </div>
</footer>




</body></html>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Giuseppe Casalicchio">
<meta name="author" content="Essential Data Science Training GmbH">
<meta name="dcterms.date" content="2025-04-23">
<meta name="description" content="Introduction to German Credit dataset and classification. Train predict and evaluate a logistic regression learner with hold-out split.">

<title>Train Predict Evaluate Basics Solution – mlr-org</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../images/favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-0217fbee799b1e5c46e1a9544cf407f3.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 2,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 5,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">mlr-org</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-overview" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Overview</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-overview">    
        <li>
    <a class="dropdown-item" href="../../../ecosystem.html">
 <span class="dropdown-text">Ecosystem</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../dependencies.html">
 <span class="dropdown-text">Dependencies</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../tasks.html">
 <span class="dropdown-text">Tasks</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../learners.html">
 <span class="dropdown-text">Learners</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../resamplings.html">
 <span class="dropdown-text">Resamplings</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../measures.html">
 <span class="dropdown-text">Measures</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../pipeops.html">
 <span class="dropdown-text">Pipeline Operators</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../graphs.html">
 <span class="dropdown-text">Graphs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../torch_pipeops.html">
 <span class="dropdown-text">Torch Pipeline Operators</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../tuners.html">
 <span class="dropdown-text">Tuners</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../tuning_spaces.html">
 <span class="dropdown-text">Tuning Spaces</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../terminators.html">
 <span class="dropdown-text">Terminators</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../../filters.html">
 <span class="dropdown-text">Feature Selection Filter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../fselectors.html">
 <span class="dropdown-text">Feature Selection Wrapper</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../book.html"> 
<span class="menu-text">Book</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../gallery.html"> 
<span class="menu-text">Gallery</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-benchmarks" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Benchmarks</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-benchmarks">    
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_mlr3.html">
 <span class="dropdown-text">mlr3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_mlr3fselect.html">
 <span class="dropdown-text">mlr3fselect</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_mlr3tuning.html">
 <span class="dropdown-text">mlr3tuning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../benchmarks/benchmarks_async.html">
 <span class="dropdown-text">mlr3tuning async</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../team.html"> 
<span class="menu-text">Team</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-more" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">More</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-more">    
        <li>
    <a class="dropdown-item" href="../../../support.html">
 <span class="dropdown-text">Support</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contributing.html">
 <span class="dropdown-text">Contributing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../faq.html">
 <span class="dropdown-text">Frequently Asked Questions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../blogroll.html">
 <span class="dropdown-text">Blogroll</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-rss" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-rss">    
        <li>
    <a class="dropdown-item" href="../../../gallery-all.xml">
 <span class="dropdown-text">Gallery RSS</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite"> <i class="bi bi-chat-dots" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"> <i class="bi bi-stack-overflow" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mlr-org"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Train Predict Evaluate Basics Solution</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
  <div id="quarto-announcement" data-announcement-id="50f0eab22d7d8f5381fa1ea26eadc5d4" class="alert alert-primary hidden"><i class="bi bi-info-circle quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p>The website features runtime and memory <a href="benchmarks/benchmarks_mlr3tuning.qmd">benchmarks</a> of the mlr3tuning package now.</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Train Predict Evaluate Basics Solution</h1>
                  <div>
        <div class="description">
          <p>Introduction to German Credit dataset and classification. Train predict and evaluate a logistic regression learner with hold-out split.</p>
        </div>
      </div>
                </div>
  </div>

  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Authors</div>
      <div class="quarto-title-meta-contents">
               <p>Giuseppe Casalicchio </p>
               <p><a href="https://www.essentialds.de">Essential Data Science Training GmbH</a> </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 23, 2025</p>
      </div>
    </div>
    
      
    </div>
    

  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#goal" id="toc-goal" class="nav-link active" data-scroll-target="#goal">Goal</a></li>
  <li><a href="#german-credit-dataset" id="toc-german-credit-dataset" class="nav-link" data-scroll-target="#german-credit-dataset">German Credit Dataset</a>
  <ul class="collapse">
  <li><a href="#motivation-of-risk-prediction" id="toc-motivation-of-risk-prediction" class="nav-link" data-scroll-target="#motivation-of-risk-prediction">Motivation of Risk Prediction</a></li>
  <li><a href="#data-overview" id="toc-data-overview" class="nav-link" data-scroll-target="#data-overview">Data Overview</a></li>
  <li><a href="#preprocessing" id="toc-preprocessing" class="nav-link" data-scroll-target="#preprocessing">Preprocessing</a></li>
  </ul></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises:</a>
  <ul class="collapse">
  <li><a href="#split-data-in-training-and-test-data" id="toc-split-data-in-training-and-test-data" class="nav-link" data-scroll-target="#split-data-in-training-and-test-data">Split Data in Training and Test Data</a></li>
  <li><a href="#create-a-classification-task" id="toc-create-a-classification-task" class="nav-link" data-scroll-target="#create-a-classification-task">Create a Classification Task</a></li>
  <li><a href="#train-a-model-on-the-training-dataset" id="toc-train-a-model-on-the-training-dataset" class="nav-link" data-scroll-target="#train-a-model-on-the-training-dataset">Train a Model on the Training Dataset</a></li>
  <li><a href="#inspect-the-model" id="toc-inspect-the-model" class="nav-link" data-scroll-target="#inspect-the-model">Inspect the Model</a></li>
  <li><a href="#predict-on-the-test-dataset" id="toc-predict-on-the-test-dataset" class="nav-link" data-scroll-target="#predict-on-the-test-dataset">Predict on the Test Dataset</a></li>
  <li><a href="#evaluation" id="toc-evaluation" class="nav-link" data-scroll-target="#evaluation">Evaluation</a></li>
  <li><a href="#predicting-probabilities-instead-of-labels" id="toc-predicting-probabilities-instead-of-labels" class="nav-link" data-scroll-target="#predicting-probabilities-instead-of-labels">Predicting probabilities instead of labels</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<script>
const correctHash = "73ed96204e8a600beb58b07bde5ea8b96b390822b02625db28349f85fe2a7465";   // value injected by knitr

/* ---------- reusable helper ---------- */
function b64DecodeUtf8(b64) {
  // 1) atob  -> binary-string   (bytes 0…255)
  // 2) map   -> Uint8Array      (array of bytes)
  // 3) TextDecoder('utf-8')     -> real JS string
  const bytes = Uint8Array.from(atob(b64), c => c.charCodeAt(0));
  return new TextDecoder('utf-8').decode(bytes);
}

async function sha256(txt) {
  const buf = await crypto.subtle.digest('SHA-256',
                 new TextEncoder().encode(txt));
  return Array.from(new Uint8Array(buf))
              .map(b => b.toString(16).padStart(2, '0')).join('');
}

async function unlockOne(btn) {
  const pass = prompt("Password:");
  if (!pass) return;
  if (await sha256(pass) !== correctHash) {
    alert("Wrong password"); return;
  }

  /* --- decode only the solution that belongs to THIS button --- */
  const wrapper = btn.parentElement;             // .b64-wrapper
  wrapper.querySelectorAll('.hidden-solution').forEach(div => {
    div.innerHTML = b64DecodeUtf8(div.dataset.encoded);
    div.classList.remove('hidden-solution');
    div.style.display = 'block';
  });

  /* Remove the button so the user can’t click it again */
  btn.remove();
}
</script>

<noscript>
<div style="border: 1px solid #ccc; padding: 1em; margin-top: 1em; background: #f9f9f9;">
    <strong>JavaScript is required to unlock solutions.</strong><br>
    Please enable JavaScript and reload the page,<br>
    or download the source files from
    <a href="https://github.com/mlr-org/mlr3website/" target="_blank" rel="noopener noreferrer">GitHub</a>
    and run the code locally.
  </div>
</noscript>
<section id="goal" class="level1">
<h1>Goal</h1>
<p>Our goal for this exercise sheet is to learn the basics of mlr3 for supervised learning by training a first simple model on training data and by evaluating its performance on hold-out/test data.</p>
</section>
<section id="german-credit-dataset" class="level1">
<h1>German Credit Dataset</h1>
<p>The German credit dataset was donated by Prof.&nbsp;Dr.&nbsp;Hans Hoffman of the University of Hamburg in 1994 and contains 1000 datapoints reflecting bank customers. The goal is to classify people as a good or bad credit risk based on 20 personal, demographic and financial features. The dataset is available at the UCI repository as <a href="https://archive.ics.uci.edu/ml/datasets/Statlog+%28German+Credit+Data%29">Statlog (German Credit Data) Data Set</a>.</p>
<section id="motivation-of-risk-prediction" class="level2">
<h2 class="anchored" data-anchor-id="motivation-of-risk-prediction">Motivation of Risk Prediction</h2>
<p>Customers who do not repay the distributed loan on time represent an enormous risk for a bank: First, because they create an unintended gap in the bank’s planning, and second, because the collection of the repayment amount additionally causes additional time and cost for the bank.</p>
<p>On the other hand, (interest rates for) loans are an important revenue stream for banks. If a person’s loan is rejected, even though they would have met the repayment deadlines, revenue is lost, as well as potential upselling opportunities.</p>
<p>Banks are therefore highly interested in a risk prediction model that accurately predicts the risk of future customers. This is where supervised learning models come into play.</p>
</section>
<section id="data-overview" class="level2">
<h2 class="anchored" data-anchor-id="data-overview">Data Overview</h2>
<p>n = 1,000 observations of bank customers</p>
<ul>
<li><code>credit_risk</code>: is the customer a good or bad credit risk?</li>
<li><code>age</code>: age in years</li>
<li><code>amount</code>: amount asked by applicant</li>
<li><code>credit_history</code>: past credit history of applicant at this bank</li>
<li><code>duration</code>: duration of the credit in months</li>
<li><code>employment_duration</code>: present employment since</li>
<li><code>foreign_worker</code>: is applicant foreign worker?</li>
<li><code>housing</code>: type of apartment rented, owned, for free / no payment</li>
<li><code>installment_rate</code>: installment rate in percentage of disposable income</li>
<li><code>job</code>: current job information</li>
<li><code>number_credits</code>: number of existing credits at this bank</li>
<li><code>other_debtors</code>: other debtors/guarantors present?</li>
<li><code>other_installment_plans</code>: other installment plans the applicant is paying</li>
<li><code>people_liable</code>: number of people being liable to provide maintenance</li>
<li><code>personal_status_sex</code>: combination of sex and personal status of applicant</li>
<li><code>present_residence</code>: present residence since</li>
<li><code>property</code>: properties that applicant has</li>
<li><code>purpose</code>: reason customer is applying for a loan</li>
<li><code>savings</code>: savings accounts/bonds at this bank</li>
<li><code>status</code>: status/balance of checking account at this bank</li>
<li><code>telephone</code>: is there any telephone registered for this customer?</li>
</ul>
</section>
<section id="preprocessing" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing">Preprocessing</h2>
<p>We first load the data from the <code>rchallenge</code> package (you may need to install it first) and get a brief overview.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("rchallenge")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"rchallenge"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"german"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(german)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">german</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">1000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">21</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">18</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 23%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">status</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">…: 394, no : 274, …: 269, 0&lt;=: 63</td>
</tr>
<tr class="even">
<td style="text-align: left;">credit_history</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">no : 530, all: 293, exi: 88, cri: 49</td>
</tr>
<tr class="odd">
<td style="text-align: left;">purpose</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">fur: 280, oth: 234, car: 181, car: 103</td>
</tr>
<tr class="even">
<td style="text-align: left;">savings</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">unk: 603, …: 183, …: 103, 100: 63</td>
</tr>
<tr class="odd">
<td style="text-align: left;">employment_duration</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">1 &lt;: 339, &gt;= : 253, 4 &lt;: 174, &lt; 1: 172</td>
</tr>
<tr class="even">
<td style="text-align: left;">installment_rate</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">&lt; 2: 476, 25 : 231, 20 : 157, &gt;= : 136</td>
</tr>
<tr class="odd">
<td style="text-align: left;">personal_status_sex</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">mal: 548, fem: 310, fem: 92, mal: 50</td>
</tr>
<tr class="even">
<td style="text-align: left;">other_debtors</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">non: 907, gua: 52, co-: 41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">present_residence</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">&gt;= : 413, 1 &lt;: 308, 4 &lt;: 149, &lt; 1: 130</td>
</tr>
<tr class="even">
<td style="text-align: left;">property</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">bui: 332, unk: 282, car: 232, rea: 154</td>
</tr>
<tr class="odd">
<td style="text-align: left;">other_installment_plans</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">non: 814, ban: 139, sto: 47</td>
</tr>
<tr class="even">
<td style="text-align: left;">housing</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">ren: 714, for: 179, own: 107</td>
</tr>
<tr class="odd">
<td style="text-align: left;">number_credits</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">1: 633, 2-3: 333, 4-5: 28, &gt;= : 6</td>
</tr>
<tr class="even">
<td style="text-align: left;">job</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">ski: 630, uns: 200, man: 148, une: 22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">people_liable</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0 t: 845, 3 o: 155</td>
</tr>
<tr class="even">
<td style="text-align: left;">telephone</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">no: 596, yes: 404</td>
</tr>
<tr class="odd">
<td style="text-align: left;">foreign_worker</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">no: 963, yes: 37</td>
</tr>
<tr class="even">
<td style="text-align: left;">credit_risk</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">goo: 700, bad: 300</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 10%">
<col style="width: 15%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 4%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">duration</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">20.90</td>
<td style="text-align: right;">12.06</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">12.0</td>
<td style="text-align: right;">18.0</td>
<td style="text-align: right;">24.00</td>
<td style="text-align: right;">72</td>
<td style="text-align: left;">▇▇▂▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">amount</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3271.25</td>
<td style="text-align: right;">2822.75</td>
<td style="text-align: right;">250</td>
<td style="text-align: right;">1365.5</td>
<td style="text-align: right;">2319.5</td>
<td style="text-align: right;">3972.25</td>
<td style="text-align: right;">18424</td>
<td style="text-align: left;">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">age</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">35.54</td>
<td style="text-align: right;">11.35</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">27.0</td>
<td style="text-align: right;">33.0</td>
<td style="text-align: right;">42.00</td>
<td style="text-align: right;">75</td>
<td style="text-align: left;">▇▆▃▁▁</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="exercises" class="level1">
<h1>Exercises:</h1>
<p>Now, we can start building a model. To do so, we need to address the following questions:</p>
<ul>
<li>What is the problem we are trying to solve?</li>
<li>What is an appropriate learning algorithm?</li>
<li>How do we evaluate “good” performance?</li>
</ul>
<p>More systematically in <code>mlr3</code> they can be expressed via five components:</p>
<ul>
<li>The <code>Task</code> definition.</li>
<li>The <code>Learner</code> definition.</li>
<li>The training via <code>$train()</code>.</li>
<li>The prediction via <code>$predict()</code>.</li>
<li>The evaluation via one <code>$score()</code>.</li>
</ul>
<section id="split-data-in-training-and-test-data" class="level2">
<h2 class="anchored" data-anchor-id="split-data-in-training-and-test-data">Split Data in Training and Test Data</h2>
<p>Your task is to split the <code>german</code> dataset into 70 % training data and 30 % test data by randomly sampling rows. Later, we will use the training data to learn an ML model and use the test data to assess its performance.</p>
<details>
<summary>
Recap: Why do we need train and test data?
</summary>
<p>We use part of the available data (the training data) to train our model. The remaining/hold-out data (test data) is used to evaluate the trained model. This is exactly how we anticipate using the model in practice: We want to fit the model to existing data and then make predictions on new, unseen data points for which we do not know the outcome/target values.</p>
<p>Note: Hold-out splitting requires a dataset that is sufficiently large such that both the training and test dataset are suitable representations of the target population. What “sufficiently large” means depends on the dataset at hand and the complexity of the problem.</p>
<p>The ratio of training to test data is also context dependent. In practice, a 70% to 30% (~ 2:1) ratio is a good starting point.</p>
</details>
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<p>Use <code>sample()</code> to sample 70 % of the data ids as training data ids from <code>row.names(german)</code>. The remaining row ids are obtained via <code>setdiff()</code>. Based on the ids, set up two datasets, one for training and one for testing/evaluating.</p>
<p>Set a seed (e.g, <code>set.seed(100L)</code>) to make your results reproducible.</p>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample ids for training and test split</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">100</span>L)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>train_ids <span class="ot">=</span> <span class="fu">sample</span>(<span class="fu">row.names</span>(german), <span class="fl">0.7</span><span class="sc">*</span><span class="fu">nrow</span>(...))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>test_ids <span class="ot">=</span> <span class="fu">setdiff</span>(..., train_ids)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create two datasets based on ids</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>train_set <span class="ot">=</span> german[...,]</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>test_set <span class="ot">=</span> german[...,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PHA+V2UgZmlyc3Qgc2FtcGxlIHJvdyBpZHMgYnkgdXNpbmcgPGNvZGU+c2FtcGxlKCk8L2NvZGU+IGFuZCBpZGVudGlmeQp0aGUgbm9uLXNlbGVjdGVkIHJvd3MgdmlhIDxjb2RlPnNldGRpZmYoKTwvY29kZT4uPC9wPgo8ZGl2IGNsYXNzPSJjZWxsIiBkYXRhLWxheW91dC1hbGlnbj0iY2VudGVyIiBkYXRhLWJhc2U2NGVuY29kZT0idHJ1ZSI+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjEiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjEtMSI+PGEgaHJlZj0iI2NiMS0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5zZXQuc2VlZDwvc3Bhbj4oPHNwYW4gY2xhc3M9ImR2Ij4xMDA8L3NwYW4+PHNwYW4gY2xhc3M9ImR0Ij5MPC9zcGFuPik8L3NwYW4+CjxzcGFuIGlkPSJjYjEtMiI+PGEgaHJlZj0iI2NiMS0yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+dHJhaW5faWRzIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImZ1Ij5zYW1wbGU8L3NwYW4+KDxzcGFuIGNsYXNzPSJmdSI+cm93Lm5hbWVzPC9zcGFuPihnZXJtYW4pLCA8c3BhbiBjbGFzcz0iZmwiPjAuNzwvc3Bhbj48c3BhbiBjbGFzcz0ic2MiPio8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij5ucm93PC9zcGFuPihnZXJtYW4pKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0zIj48YSBocmVmPSIjY2IxLTMiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT50ZXN0X2lkcyA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+c2V0ZGlmZjwvc3Bhbj4oPHNwYW4gY2xhc3M9ImZ1Ij5yb3cubmFtZXM8L3NwYW4+KGdlcm1hbiksIHRyYWluX2lkcyk8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNCI+PGEgaHJlZj0iI2NiMS00IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5zdHI8L3NwYW4+KHRyYWluX2lkcyk8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8ZGl2IGNsYXNzPSJjZWxsLW91dHB1dCBjZWxsLW91dHB1dC1zdGRvdXQiPgo8cHJlPjxjb2RlPiBjaHIgWzE6NzAwXSAmcXVvdDs3MTQmcXVvdDsgJnF1b3Q7NTAzJnF1b3Q7ICZxdW90OzM1OCZxdW90OyAmcXVvdDs2MjQmcXVvdDsgJnF1b3Q7OTg1JnF1b3Q7ICZxdW90OzcxOCZxdW90OyAmcXVvdDs5MTkmcXVvdDsgJnF1b3Q7NDcwJnF1b3Q7ICZxdW90Ozk2NiZxdW90OyAmcXVvdDs1MTYmcXVvdDsgJnF1b3Q7ODIzJnF1b3Q7ICZxdW90OzgzOCZxdW90OyAmcXVvdDs5OCZxdW90OyAmcXVvdDs5MDMmcXVvdDsgJnF1b3Q7NyZxdW90OyAmcXVvdDsxODMmcXVvdDsgJnF1b3Q7Mjk5JnF1b3Q7IC4uLjwvY29kZT48L3ByZT4KPC9kaXY+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjMiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjMtMSI+PGEgaHJlZj0iI2NiMy0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImZ1Ij5zdHI8L3NwYW4+KHRlc3RfaWRzKTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0IGNlbGwtb3V0cHV0LXN0ZG91dCI+CjxwcmU+PGNvZGU+IGNociBbMTozMDBdICZxdW90OzMmcXVvdDsgJnF1b3Q7NSZxdW90OyAmcXVvdDs4JnF1b3Q7ICZxdW90OzE3JnF1b3Q7ICZxdW90OzIwJnF1b3Q7ICZxdW90OzIyJnF1b3Q7ICZxdW90OzI1JnF1b3Q7ICZxdW90OzI5JnF1b3Q7ICZxdW90OzMzJnF1b3Q7ICZxdW90OzM1JnF1b3Q7ICZxdW90OzM5JnF1b3Q7ICZxdW90OzQwJnF1b3Q7ICZxdW90OzQxJnF1b3Q7ICZxdW90OzQzJnF1b3Q7ICZxdW90OzQ0JnF1b3Q7ICZxdW90OzQ5JnF1b3Q7ICZxdW90OzUyJnF1b3Q7ICZxdW90OzU3JnF1b3Q7ICZxdW90OzU4JnF1b3Q7ICZxdW90OzU5JnF1b3Q7ICZxdW90OzYyJnF1b3Q7IC4uLjwvY29kZT48L3ByZT4KPC9kaXY+CjwvZGl2Pgo8cD5CYXNlZCBvbiB0aGF0LCB3ZSBjcmVhdGUgdHdvIGRhdGFzZXRzOiBvbmUgZm9yIHRyYWluaW5nIGFuZCBvbmUgZm9yCnRlc3RpbmcuPC9wPgo8ZGl2IGNsYXNzPSJjZWxsIiBkYXRhLWxheW91dC1hbGlnbj0iY2VudGVyIiBkYXRhLWJhc2U2NGVuY29kZT0idHJ1ZSI+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjUiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjUtMSI+PGEgaHJlZj0iI2NiNS0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+dHJhaW5fc2V0IDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gZ2VybWFuW3RyYWluX2lkcyxdPC9zcGFuPgo8c3BhbiBpZD0iY2I1LTIiPjxhIGhyZWY9IiNjYjUtMiIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnRlc3Rfc2V0IDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gZ2VybWFuW3Rlc3RfaWRzLCBdPC9zcGFuPjwvY29kZT48L3ByZT48L2Rpdj4KPC9kaXY+"></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="create-a-classification-task" class="level2">
<h2 class="anchored" data-anchor-id="create-a-classification-task">Create a Classification Task</h2>
<p>Install and load the <code>mlr3verse</code> package which is a collection of multiple add-on packages in the <code>mlr3</code> universe (if you fail installing <code>mlr3verse</code>, try to install and load only the <code>mlr3</code> and <code>mlr3learners</code> packages). Then, create a classification task using the training data as an input and <code>credit_risk</code> as the target variable (with the class label <code>good</code> as the positive class). By defining an <code>mlr3</code> task, we conceptualize the ML problem we want to solve (here we face a classification task). As we have a classification task here, make sure you properly specify the class that should be used as the positive class (i.e., the class label for which we would like to predict probabilities - here <code>good</code> if you are interested in predicting a probability for the creditworthiness of customers).</p>
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<p>Use e.g.&nbsp;<code>as_task_classif()</code> to create a classification task.</p>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3verse)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>task <span class="ot">=</span> <span class="fu">as_task_classif</span>(<span class="at">x =</span> ..., <span class="at">target =</span> ..., <span class="at">... =</span> <span class="st">"good"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PHA+VG8gaW5pdGlhbGl6ZSBhIDxjb2RlPlRhc2tDbGFzc2lmPC9jb2RlPiBvYmplY3QsIHR3byBlcXVpdmFsZW50IGNhbGxzCmV4aXN0OjwvcD4KPGRpdiBjbGFzcz0iY2VsbCIgZGF0YS1sYXlvdXQtYWxpZ249ImNlbnRlciIgZGF0YS1iYXNlNjRlbmNvZGU9InRydWUiPgo8ZGl2IGNsYXNzPSJzb3VyY2VDb2RlIiBpZD0iY2IxIj48cHJlCmNsYXNzPSJzb3VyY2VDb2RlIHIgY2VsbC1jb2RlIj48Y29kZSBjbGFzcz0ic291cmNlQ29kZSByIj48c3BhbiBpZD0iY2IxLTEiPjxhIGhyZWY9IiNjYjEtMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJmdSI+bGlicmFyeTwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDttbHIzdmVyc2UmcXVvdDs8L3NwYW4+KTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0yIj48YSBocmVmPSIjY2IxLTIiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT50YXNrIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gVGFza0NsYXNzaWY8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij5uZXc8L3NwYW4+KDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7Z2VybWFuX2NyZWRpdCZxdW90Ozwvc3Bhbj4sIDxzcGFuIGNsYXNzPSJhdCI+YmFja2VuZCA9PC9zcGFuPiB0cmFpbl9zZXQsIDxzcGFuIGNsYXNzPSJhdCI+dGFyZ2V0ID08L3NwYW4+IDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7Y3JlZGl0X3Jpc2smcXVvdDs8L3NwYW4+LCA8c3BhbiBjbGFzcz0iYXQiPnBvc2l0aXZlID08L3NwYW4+IDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7Z29vZCZxdW90Ozwvc3Bhbj4pPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTMiPjxhIGhyZWY9IiNjYjEtMyIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnRhc2sgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmFzX3Rhc2tfY2xhc3NpZjwvc3Bhbj4odHJhaW5fc2V0LCA8c3BhbiBjbGFzcz0iYXQiPnRhcmdldCA9PC9zcGFuPiA8c3BhbiBjbGFzcz0ic3QiPiZxdW90O2NyZWRpdF9yaXNrJnF1b3Q7PC9zcGFuPiwgPHNwYW4gY2xhc3M9ImF0Ij5wb3NpdGl2ZSA9PC9zcGFuPiA8c3BhbiBjbGFzcz0ic3QiPiZxdW90O2dvb2QmcXVvdDs8L3NwYW4+KTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS00Ij48YSBocmVmPSIjY2IxLTQiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT50YXNrPC9zcGFuPjwvY29kZT48L3ByZT48L2Rpdj4KPGRpdiBjbGFzcz0iY2VsbC1vdXRwdXQgY2VsbC1vdXRwdXQtc3Rkb3V0Ij4KPHByZT48Y29kZT4mbHQ7VGFza0NsYXNzaWY6dHJhaW5fc2V0Jmd0OyAoNzAwIHggMjEpCiogVGFyZ2V0OiBjcmVkaXRfcmlzawoqIFByb3BlcnRpZXM6IHR3b2NsYXNzCiogRmVhdHVyZXMgKDIwKToKICAtIGZjdCAoMTQpOiBjcmVkaXRfaGlzdG9yeSwgZW1wbG95bWVudF9kdXJhdGlvbiwgZm9yZWlnbl93b3JrZXIsIGhvdXNpbmcsIGpvYiwgb3RoZXJfZGVidG9ycywKICAgIG90aGVyX2luc3RhbGxtZW50X3BsYW5zLCBwZW9wbGVfbGlhYmxlLCBwZXJzb25hbF9zdGF0dXNfc2V4LCBwcm9wZXJ0eSwgcHVycG9zZSwgc2F2aW5ncywgc3RhdHVzLAogICAgdGVsZXBob25lCiAgLSBpbnQgKDMpOiBhZ2UsIGFtb3VudCwgZHVyYXRpb24KICAtIG9yZCAoMyk6IGluc3RhbGxtZW50X3JhdGUsIG51bWJlcl9jcmVkaXRzLCBwcmVzZW50X3Jlc2lkZW5jZTwvY29kZT48L3ByZT4KPC9kaXY+CjwvZGl2Pg=="></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="train-a-model-on-the-training-dataset" class="level2">
<h2 class="anchored" data-anchor-id="train-a-model-on-the-training-dataset">Train a Model on the Training Dataset</h2>
<p>The created <code>Task</code> contains the data we want to work with. Now that we conceptualized the ML task (i.e., classification) in a <code>Task</code> object, it is time to train our first supervised learning method. We start with a simple classifier: a logistic regression model. During this course, you will, of course, also gain experience with more complex models.</p>
<p>Fit a logistic regression model to the <code>german_credit</code> training task.</p>
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<p>Use <code>lrn()</code> to initialize a <code>Learner</code> object. The short cut and therefore input to this method is <code>"classif.log_reg"</code>.</p>
<p>To train a model, use the <code>$train()</code> method of your instantiated learner with the task of the previous exercise as an input.</p>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>logreg <span class="ot">=</span> <span class="fu">lrn</span>(<span class="st">"classif.log_reg"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>logreg<span class="sc">$</span><span class="fu">train</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PHA+QnkgdXNpbmcgdGhlIHN5bnRhY3RpYyBzdWdhciBtZXRob2QgPGNvZGU+bHJuKCk8L2NvZGU+LCB3ZSBmaXJzdAppbml0aWFsaXplIGEgPGNvZGU+TGVhcm5lckNsYXNzaWY8L2NvZGU+IG1vZGVsLiBVc2luZyB0aGUKPGNvZGU+JHRyYWluKCk8L2NvZGU+IG1ldGhvZCwgd2UgZGVyaXZlIG9wdGltYWwgaHlwZXJwYXJhbWV0ZXJzIChpLmUuLApjb2VmZmljaWVudHMpIGZvciBvdXIgbG9naXN0aWMgcmVncmVzc2lvbiBtb2RlbC48L3A+CjxkaXYgY2xhc3M9ImNlbGwiIGRhdGEtbGF5b3V0LWFsaWduPSJjZW50ZXIiIGRhdGEtYmFzZTY0ZW5jb2RlPSJ0cnVlIj4KPGRpdiBjbGFzcz0ic291cmNlQ29kZSIgaWQ9ImNiMSI+PHByZQpjbGFzcz0ic291cmNlQ29kZSByIGNlbGwtY29kZSI+PGNvZGUgY2xhc3M9InNvdXJjZUNvZGUgciI+PHNwYW4gaWQ9ImNiMS0xIj48YSBocmVmPSIjY2IxLTEiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5sb2dyZWcgPHNwYW4gY2xhc3M9Im90Ij49PC9zcGFuPiA8c3BhbiBjbGFzcz0iZnUiPmxybjwvc3Bhbj4oPHNwYW4gY2xhc3M9InN0Ij4mcXVvdDtjbGFzc2lmLmxvZ19yZWcmcXVvdDs8L3NwYW4+KTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS0yIj48YSBocmVmPSIjY2IxLTIiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5sb2dyZWc8c3BhbiBjbGFzcz0ic2MiPiQ8L3NwYW4+PHNwYW4gY2xhc3M9ImZ1Ij50cmFpbjwvc3Bhbj4odGFzayk8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8L2Rpdj4="></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="inspect-the-model" class="level2">
<h2 class="anchored" data-anchor-id="inspect-the-model">Inspect the Model</h2>
<p>Have a look at the coefficients by using <code>summary()</code>. Name at least two features that have a significant effect on the outcome.</p>
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<p>Use the <code>summary()</code> method of the <code>model</code> field of our trained model. By looking on <code>task$positive</code>, we could see which of the two classes <code>good</code> or <code>bad</code> is used as the positive class (i.e., the class to which the model predictions will refer).</p>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(yourmodel<span class="sc">$</span>model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PHA+U2ltaWxhciB0byBtb2RlbHMgZml0dGVkIHZpYSA8Y29kZT5nbG0oKTwvY29kZT4gb3IgPGNvZGU+bG0oKTwvY29kZT4sCndlIGNvdWxkIHJlY2VpdmUgYSBzdW1tYXJ5IG9mIHRoZSBjb2VmZmljaWVudHMgKGluY2x1ZGluZyBwLXZhbHVlcykKdXNpbmcgPGNvZGU+c3VtbWFyeSgpPC9jb2RlPi48L3A+CjxkaXYgY2xhc3M9ImNlbGwiIGRhdGEtbGF5b3V0LWFsaWduPSJjZW50ZXIiIGRhdGEtYmFzZTY0ZW5jb2RlPSJ0cnVlIj4KPGRpdiBjbGFzcz0ic291cmNlQ29kZSIgaWQ9ImNiMSI+PHByZQpjbGFzcz0ic291cmNlQ29kZSByIGNlbGwtY29kZSI+PGNvZGUgY2xhc3M9InNvdXJjZUNvZGUgciI+PHNwYW4gaWQ9ImNiMS0xIj48YSBocmVmPSIjY2IxLTEiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48c3BhbiBjbGFzcz0iZnUiPnN1bW1hcnk8L3NwYW4+KGxvZ3JlZzxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj5tb2RlbCk8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8ZGl2IGNsYXNzPSJjZWxsLW91dHB1dCBjZWxsLW91dHB1dC1zdGRvdXQiPgo8cHJlPjxjb2RlPgpDYWxsOgpzdGF0czo6Z2xtKGZvcm11bGEgPSBmb3JtLCBmYW1pbHkgPSAmcXVvdDtiaW5vbWlhbCZxdW90OywgZGF0YSA9IGRhdGEsIAogICAgbW9kZWwgPSBGQUxTRSkKCkNvZWZmaWNpZW50czoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXN0aW1hdGUgU3RkLiBFcnJvciB6IHZhbHVlIFByKCZndDt8enwpICAgIAooSW50ZXJjZXB0KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTIuMzQyZSswMCAgMS40MDJlKzAwICAtMS42NzEgMC4wOTQ2NzYgLiAgCmFnZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMS45OTllLTAyICAxLjE1NGUtMDIgICAxLjczMyAwLjA4MzExNiAuICAKYW1vdW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC00LjQxNGUtMDUgIDUuNDEzZS0wNSAgLTAuODE1IDAuNDE0OTAwICAgIApjcmVkaXRfaGlzdG9yeWNyaXRpY2FsIGFjY291bnQvb3RoZXIgY3JlZGl0cyBlbHNld2hlcmUgICAgLTIuMjY3ZS0wMSAgNy4xMDllLTAxICAtMC4zMTkgMC43NDk4MjQgICAgCmNyZWRpdF9oaXN0b3J5bm8gY3JlZGl0cyB0YWtlbi9hbGwgY3JlZGl0cyBwYWlkIGJhY2sgZHVseSAgOC41MTdlLTAxICA1LjMxMWUtMDEgICAxLjYwNCAwLjEwODc4MSAgICAKY3JlZGl0X2hpc3RvcnlleGlzdGluZyBjcmVkaXRzIHBhaWQgYmFjayBkdWx5IHRpbGwgbm93ICAgICAxLjI3OGUrMDAgIDUuNzk5ZS0wMSAgIDIuMjA0IDAuMDI3NTQ2ICogIApjcmVkaXRfaGlzdG9yeWFsbCBjcmVkaXRzIGF0IHRoaXMgYmFuayBwYWlkIGJhY2sgZHVseSAgICAgIDEuNDQ0ZSswMCAgNS4zMTFlLTAxICAgMi43MTggMC4wMDY1NjkgKiogCmR1cmF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMy42NzRlLTAyICAxLjEyNGUtMDIgIC0zLjI2OCAwLjAwMTA4MyAqKiAKZW1wbG95bWVudF9kdXJhdGlvbiZsdDsgMSB5ciAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC01LjkwOWUtMDEgIDUuNTM1ZS0wMSAgLTEuMDY4IDAuMjg1Njk0ICAgIAplbXBsb3ltZW50X2R1cmF0aW9uMSAmbHQ7PSAuLi4gJmx0OyA0IHlycyAgICAgICAgICAgICAgICAgICAgICAgLTEuNDEwZS0wMSAgNS4xOTdlLTAxICAtMC4yNzEgMC43ODYxODEgICAgCmVtcGxveW1lbnRfZHVyYXRpb240ICZsdDs9IC4uLiAmbHQ7IDcgeXJzICAgICAgICAgICAgICAgICAgICAgICAgMi41NzVlLTAxICA1LjY3NmUtMDEgICAwLjQ1NCAwLjY1MDEzNCAgICAKZW1wbG95bWVudF9kdXJhdGlvbiZndDs9IDcgeXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0yLjAyNmUtMDEgIDUuMjg0ZS0wMSAgLTAuMzgzIDAuNzAxNDQ5ICAgIApmb3JlaWduX3dvcmtlcm5vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTEuMjk4ZSswMCAgNy40MThlLTAxICAtMS43NDkgMC4wODAyMzUgLiAgCmhvdXNpbmdyZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMi43MTJlLTAxICAyLjgwMGUtMDEgICAwLjk2OSAwLjMzMjcxOSAgICAKaG91c2luZ293biAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzLjE1NGUtMDEgIDYuMTgwZS0wMSAgIDAuNTEwIDAuNjA5Nzg1ICAgIAppbnN0YWxsbWVudF9yYXRlLkwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTUuMDE4ZS0wMSAgMi42NDVlLTAxICAtMS44OTcgMC4wNTc3ODQgLiAgCmluc3RhbGxtZW50X3JhdGUuUSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMy4wODllLTAxICAyLjQxMGUtMDEgIC0xLjI4MiAwLjE5OTg3OCAgICAKaW5zdGFsbG1lbnRfcmF0ZS5DICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4LjI3NGUtMDIgIDIuNDk2ZS0wMSAgIDAuMzMyIDAuNzQwMjMyICAgIApqb2J1bnNraWxsZWQgLSByZXNpZGVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDYuOTI5ZS0wMSAgOC4xODJlLTAxICAgMC44NDcgMC4zOTcxMjIgICAgCmpvYnNraWxsZWQgZW1wbG95ZWUvb2ZmaWNpYWwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNy43NjllLTAxICA3Ljg5NmUtMDEgICAwLjk4NCAwLjMyNTEyNSAgICAKam9ibWFuYWdlci9zZWxmLWVtcGwuL2hpZ2hseSBxdWFsaWYuIGVtcGxveWVlICAgICAgICAgICAgICA3LjEyOWUtMDEgIDcuOTIzZS0wMSAgIDAuOTAwIDAuMzY4MjQwICAgIApudW1iZXJfY3JlZGl0cy5MICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTEuMzU4ZS0wMSAgNy42NjFlLTAxICAtMC4xNzcgMC44NTkzNDggICAgCm51bWJlcl9jcmVkaXRzLlEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNi41OTVlLTAyICA2LjM5NWUtMDEgICAwLjEwMyAwLjkxNzg1NCAgICAKbnVtYmVyX2NyZWRpdHMuQyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA3LjQ4M2UtMDIgIDQuODc3ZS0wMSAgIDAuMTUzIDAuODc4MDcxICAgIApvdGhlcl9kZWJ0b3JzY28tYXBwbGljYW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIuMTg2ZS0wMSAgNS4yNjZlLTAxICAgMC40MTUgMC42NzgwMjQgICAgCm90aGVyX2RlYnRvcnNndWFyYW50b3IgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNy44MzRlLTAxICA0Ljk2OGUtMDEgICAxLjU3NyAwLjExNDg2MiAgICAKb3RoZXJfaW5zdGFsbG1lbnRfcGxhbnNzdG9yZXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLjQ1NGUtMDEgIDUuNDIyZS0wMSAgIDAuMjY4IDAuNzg4NTI4ICAgIApvdGhlcl9pbnN0YWxsbWVudF9wbGFuc25vbmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMuODc0ZS0wMSAgMy4wNzdlLTAxICAgMS4yNTkgMC4yMDgwMjAgICAgCnBlb3BsZV9saWFibGUwIHRvIDIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMi4yNDRlLTAxICAzLjE4NGUtMDEgICAwLjcwNSAwLjQ4MTAwNSAgICAKcGVyc29uYWxfc3RhdHVzX3NleGZlbWFsZSA6IG5vbi1zaW5nbGUgb3IgbWFsZSA6IHNpbmdsZSAgICA2LjQ3NmUtMDEgIDQuODQyZS0wMSAgIDEuMzM4IDAuMTgxMDM0ICAgIApwZXJzb25hbF9zdGF0dXNfc2V4bWFsZSA6IG1hcnJpZWQvd2lkb3dlZCAgICAgICAgICAgICAgICAgIDEuMjA0ZSswMCAgNC44MjVlLTAxICAgMi40OTQgMC4wMTI2MjEgKiAgCnBlcnNvbmFsX3N0YXR1c19zZXhmZW1hbGUgOiBzaW5nbGUgICAgICAgICAgICAgICAgICAgICAgICAgOC4yMzZlLTAxICA1LjcyNGUtMDEgICAxLjQzOSAwLjE1MDE1MyAgICAKcHJlc2VudF9yZXNpZGVuY2UuTCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0zLjY5MGUtMDEgIDIuNTkyZS0wMSAgLTEuNDI0IDAuMTU0NTU5ICAgIApwcmVzZW50X3Jlc2lkZW5jZS5RICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQuOTgwZS0wMSAgMi40NDNlLTAxICAgMi4wMzggMC4wNDE1NDYgKiAgCnByZXNlbnRfcmVzaWRlbmNlLkMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtNC41NzJlLTAxICAyLjQ2MmUtMDEgIC0xLjg1NyAwLjA2MzMyNiAuICAKcHJvcGVydHljYXIgb3Igb3RoZXIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLjI0NGUtMDEgIDMuMDM2ZS0wMSAgIDAuNDEwIDAuNjgyMDYwICAgIApwcm9wZXJ0eWJ1aWxkaW5nIHNvYy4gc2F2aW5ncyBhZ3IuL2xpZmUgaW5zdXJhbmNlICAgICAgICAgIDEuNDMyZS0wMSAgMi44OTFlLTAxICAgMC40OTUgMC42MjAzNzUgICAgCnByb3BlcnR5cmVhbCBlc3RhdGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMi44MThlLTAxICA1LjYxNWUtMDEgIC0wLjUwMiAwLjYxNTcwNiAgICAKcHVycG9zZWNhciAobmV3KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLjc3NGUrMDAgIDQuNzkzZS0wMSAgIDMuNzAyIDAuMDAwMjE0ICoqKgpwdXJwb3NlY2FyICh1c2VkKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUuOTc0ZS0wMSAgMy4yMjdlLTAxICAgMS44NTEgMC4wNjQxMDEgLiAgCnB1cnBvc2VmdXJuaXR1cmUvZXF1aXBtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOC4yNjRlLTAxICAzLjA5MWUtMDEgICAyLjY3NCAwLjAwNzQ5NCAqKiAKcHVycG9zZXJhZGlvL3RlbGV2aXNpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC05LjY2OGUtMDIgIDguMzc5ZS0wMSAgLTAuMTE1IDAuOTA4MTQwICAgIApwdXJwb3NlZG9tZXN0aWMgYXBwbGlhbmNlcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDYuMDY1ZS0wMSAgNi40ODllLTAxICAgMC45MzUgMC4zNDk5NDYgICAgCnB1cnBvc2VyZXBhaXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMi45NTNlLTAxICA0LjU3MGUtMDEgIC0wLjY0NiAwLjUxODE2MyAgICAKcHVycG9zZXZhY2F0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLjU5MmUrMDAgIDEuMjcyZSswMCAgIDEuMjUxIDAuMjEwODE2ICAgIApwdXJwb3NlcmV0cmFpbmluZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDYuNDUwZS0wMSAgNC4wMzhlLTAxICAgMS41OTcgMC4xMTAyNDUgICAgCnB1cnBvc2VidXNpbmVzcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMS4zNDBlKzAwICA4LjM2NGUtMDEgICAxLjYwMSAwLjEwOTI2OCAgICAKc2F2aW5ncy4uLiAmbHQ7ICAxMDAgRE0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyLjcyM2UtMDEgIDMuNDQ5ZS0wMSAgIDAuNzg5IDAuNDI5ODI0ICAgIApzYXZpbmdzMTAwICZsdDs9IC4uLiAmbHQ7ICA1MDAgRE0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEuNTExZSswMCAgNi4xMTdlLTAxICAgMi40NzEgMC4wMTM0NzcgKiAgCnNhdmluZ3M1MDAgJmx0Oz0gLi4uICZsdDsgMTAwMCBETSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMS43MTVlKzAwICA3LjQzNmUtMDEgICAyLjMwNiAwLjAyMTA5MyAqICAKc2F2aW5ncy4uLiAmZ3Q7PSAxMDAwIERNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLjE5NWUrMDAgIDMuMjU1ZS0wMSAgIDMuNjcxIDAuMDAwMjQyICoqKgpzdGF0dXMuLi4gJmx0OyAwIERNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMuODI3ZS0wMSAgMi42NDJlLTAxICAgMS40NDkgMC4xNDc0NjUgICAgCnN0YXR1czAmbHQ7PSAuLi4gJmx0OyAyMDAgRE0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOS40NTFlLTAxICA0LjI1NGUtMDEgICAyLjIyMiAwLjAyNjMwMSAqICAKc3RhdHVzLi4uICZndDs9IDIwMCBETSAvIHNhbGFyeSBmb3IgYXQgbGVhc3QgMSB5ZWFyICAgICAgICAgICAxLjgxM2UrMDAgIDIuODY2ZS0wMSAgIDYuMzI1IDIuNTNlLTEwICoqKgp0ZWxlcGhvbmV5ZXMgKHVuZGVyIGN1c3RvbWVyIG5hbWUpICAgICAgICAgICAgICAgICAgICAgICAgIDQuNzczZS0wMyAgMi40MjdlLTAxICAgMC4wMjAgMC45ODQzMTEgICAgCi0tLQpTaWduaWYuIGNvZGVzOiAgMCAmIzM5OyoqKiYjMzk7IDAuMDAxICYjMzk7KiomIzM5OyAwLjAxICYjMzk7KiYjMzk7IDAuMDUgJiMzOTsuJiMzOTsgMC4xICYjMzk7ICYjMzk7IDEKCihEaXNwZXJzaW9uIHBhcmFtZXRlciBmb3IgYmlub21pYWwgZmFtaWx5IHRha2VuIHRvIGJlIDEpCgogICAgTnVsbCBkZXZpYW5jZTogODY4LjMzICBvbiA2OTkgIGRlZ3JlZXMgb2YgZnJlZWRvbQpSZXNpZHVhbCBkZXZpYW5jZTogNjIyLjc4ICBvbiA2NDUgIGRlZ3JlZXMgb2YgZnJlZWRvbQpBSUM6IDczMi43OAoKTnVtYmVyIG9mIEZpc2hlciBTY29yaW5nIGl0ZXJhdGlvbnM6IDU8L2NvZGU+PC9wcmU+CjwvZGl2Pgo8L2Rpdj4KPHA+QWNjb3JkaW5nIHRvIHRoZSBzdW1tYXJ5LCBlLmcuLCA8Y29kZT5jcmVkaXRfaGlzdG9yeTwvY29kZT4gYW5kCjxjb2RlPnN0YXR1czwvY29kZT4gc2lnbmlmaWNhbnRseSBpbmZsdWVuY2UgdGhlIGNyZWRpdHdvcnRoaW5lc3MgYW5kIHRoZQpiYW5r4oCZcyByaXNrIGFzc2Vzc21lbnQuIEJ5IGxvb2tpbmcgb24gPGNvZGU+dGFzayRwb3NpdGl2ZTwvY29kZT4sIHdlIHNlZQp0aGF0IHRoZSBjbGFzcyA8Y29kZT5nb29kPC9jb2RlPiAoY3JlZGl0d29ydGh5IGNsaWVudCkgaXMgdGhlIHBvc2l0aXZlCmNsYXNzLiBUaGlzIG1lYW5zIHRoYXQgYSBwb3NpdGl2ZSBzaWduIG9mIHRoZSBlc3RpbWF0ZWQgY29lZmZpY2llbnQgb2YgYQpmZWF0dXJlIG1lYW5zIHRoYXQgdGhlIGZlYXR1cmUgaGFzIGEgcG9zaXRpdmUgaW5mbHVlbmNlIG9uIGJlaW5nIGEKY3JlZGl0d29ydGh5IGNsaWVudCAod2hpbGUgYSBuZWdhdGl2ZSBzaWduIHdpbGwgaGF2ZSBhIG5lZ2F0aXZlCmluZmx1ZW5jZSkuPC9wPgo8ZGl2IGNsYXNzPSJjZWxsIiBkYXRhLWxheW91dC1hbGlnbj0iY2VudGVyIiBkYXRhLWJhc2U2NGVuY29kZT0idHJ1ZSI+CjxkaXYgY2xhc3M9InNvdXJjZUNvZGUiIGlkPSJjYjMiPjxwcmUKY2xhc3M9InNvdXJjZUNvZGUgciBjZWxsLWNvZGUiPjxjb2RlIGNsYXNzPSJzb3VyY2VDb2RlIHIiPjxzcGFuIGlkPSJjYjMtMSI+PGEgaHJlZj0iI2NiMy0xIiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+dGFzazxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj5wb3NpdGl2ZTwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+CjxkaXYgY2xhc3M9ImNlbGwtb3V0cHV0IGNlbGwtb3V0cHV0LXN0ZG91dCI+CjxwcmU+PGNvZGU+WzFdICZxdW90O2dvb2QmcXVvdDs8L2NvZGU+PC9wcmU+CjwvZGl2Pgo8L2Rpdj4KPHA+Rm9yIGV4YW1wbGUsIHRoZSBuZWdhdGl2ZSBzaWduIG9mIHRoZSBjb2VmZmljaWVudHMgb2YKPGNvZGU+Y3JlZGl0X2hpc3RvcnkgPSBkZWxheSBpbiBwYXlpbmcgb2ZmIGluIHRoZSBwYXN0PC9jb2RlPiBhbmQKPGNvZGU+Y3JlZGl0X2hpc3RvcnkgPSBjcml0aWNhbCBhY2NvdW50L290aGVyIGNyZWRpdCBlbHNld2hlcmU8L2NvZGU+LAppbmRpY2F0ZSBhIG5lZ2F0aXZlIGluZmx1ZW5jZSBhbmQgdGhlcmVmb3JlIGxvd2VyIHByb2JhYmlsaXR5IG9mIGJlaW5nIGEKY3JlZGl0d29ydGh5IGNsaWVudCBjb21wYXJlZCB0byB0aGVpciByZWZlcmVuY2UgY2xhc3MKPGNvZGU+Y3JlZGl0X2hpc3RvcnkgPSBhbGwgY3JlZGl0cyBhdCB0aGlzIGJhbmsgcGFpZCBiYWNrIGR1bHk8L2NvZGU+LgpUaGUgcG9zaXRpdmUgc2lnbiBvZiB0aGUgY29lZmZpY2llbnQgb2YKPGNvZGU+c3RhdHVzICZndDs9IDIwMCBETSAvIHNhbGFyeSBmb3IgYXQgbGVhc3QgMSB5ZWFyPC9jb2RlPiBhbmQKPGNvZGU+c3RhdHVzID0gMCAmbHQ7PSAuLi4gJmx0OyAyMDAgRE08L2NvZGU+LCB0aGVyZWZvcmUsIGluZGljYXRlIGEKcG9zaXRpdmUgaW5mbHVlbmNlIHcuci50IHRvIGl0cyByZWZlcmVuY2UgY2xhc3MKPGNvZGU+c3RhdHVzICZsdDsgMCBETTwvY29kZT4uPC9wPg=="></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="predict-on-the-test-dataset" class="level2">
<h2 class="anchored" data-anchor-id="predict-on-the-test-dataset">Predict on the Test Dataset</h2>
<p>Use the trained model to predict on the hold-out/test dataset.</p>
<details>
<summary>
<strong>Hint 1</strong>
</summary>
<p>Since we have a new tabular dataset as an input (and not a task), we need to use <code>$predict_newdata()</code> (instead of <code>$predict()</code>) to derive a <code>PredictionClassif</code> object.</p>
</details>
<details>
<summary>
<strong>Hint 2</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">=</span> yourmodel<span class="sc">$</span><span class="fu">predict_newdata</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PGRpdiBjbGFzcz0iY2VsbCIgZGF0YS1sYXlvdXQtYWxpZ249ImNlbnRlciIgZGF0YS1iYXNlNjRlbmNvZGU9InRydWUiPgo8ZGl2IGNsYXNzPSJzb3VyY2VDb2RlIiBpZD0iY2IxIj48cHJlCmNsYXNzPSJzb3VyY2VDb2RlIHIgY2VsbC1jb2RlIj48Y29kZSBjbGFzcz0ic291cmNlQ29kZSByIj48c3BhbiBpZD0iY2IxLTEiPjxhIGhyZWY9IiNjYjEtMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnByZWRfbG9ncmVnIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gbG9ncmVnPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPjxzcGFuIGNsYXNzPSJmdSI+cHJlZGljdF9uZXdkYXRhPC9zcGFuPih0ZXN0X3NldCk8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2Pgo8L2Rpdj4="></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="evaluation" class="level2">
<h2 class="anchored" data-anchor-id="evaluation">Evaluation</h2>
<p>What is the classification error on the test data (200 observations)?</p>
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<p>The classification error gives the rate of observations that were misclassified. Use the <code>$score()</code> method on the corresponding <code>PredictionClassif</code> object of the previous exercise.</p>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>pred_logreg<span class="sc">$</span><span class="fu">score</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PHA+QnkgdXNpbmcgdGhlIDxjb2RlPiRzY29yZSgpPC9jb2RlPiBtZXRob2QsIHdlIG9idGFpbiBhbiBlc3RpbWF0ZSBmb3IKdGhlIGNsYXNzaWZpY2F0aW9uIGVycm9yIG9mIG91ciBtb2RlbC48L3A+CjxkaXYgY2xhc3M9ImNlbGwiIGRhdGEtbGF5b3V0LWFsaWduPSJjZW50ZXIiIGRhdGEtYmFzZTY0ZW5jb2RlPSJ0cnVlIj4KPGRpdiBjbGFzcz0ic291cmNlQ29kZSIgaWQ9ImNiMSI+PHByZQpjbGFzcz0ic291cmNlQ29kZSByIGNlbGwtY29kZSI+PGNvZGUgY2xhc3M9InNvdXJjZUNvZGUgciI+PHNwYW4gaWQ9ImNiMS0xIj48YSBocmVmPSIjY2IxLTEiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT5wcmVkX2xvZ3JlZzxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj48c3BhbiBjbGFzcz0iZnUiPnNjb3JlPC9zcGFuPigpPC9zcGFuPjwvY29kZT48L3ByZT48L2Rpdj4KPGRpdiBjbGFzcz0iY2VsbC1vdXRwdXQgY2VsbC1vdXRwdXQtc3Rkb3V0Ij4KPHByZT48Y29kZT5jbGFzc2lmLmNlIAogMC43NzMzMzMzIDwvY29kZT48L3ByZT4KPC9kaXY+CjwvZGl2Pgo8cD5UaGUgY2xhc3NpZmljYXRpb24gZXJyb3IgaXMgMC4yNTUgLSBzbyAyNS41ICUgb2YgdGhlIHRlc3QgaW5zdGFuY2VzCndlcmUgbWlzY2xhc3NpZmllZCBieSBvdXIgbG9naXN0aWMgcmVncmVzc2lvbiBtb2RlbC48L3A+"></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="predicting-probabilities-instead-of-labels" class="level2">
<h2 class="anchored" data-anchor-id="predicting-probabilities-instead-of-labels">Predicting probabilities instead of labels</h2>
<p>Similarly, we can assess the performance of our model using the AUC. However, this requires predicted probabilities instead of predicted labels. Evaluate the model using the AUC. To do so, retrain the model with a learner that returns probabilities.</p>
<details>
<summary>
<strong>Hint 1:</strong>
</summary>
<p>You can generate predictions with probabilities by specifying a <code>predict_type</code> argument inside the <code>lrn()</code> function call when constructing a learner.</p>
</details>
<details>
<summary>
<strong>Hint 2:</strong>
</summary>
<p>You can get an overview of performance measures in mlr3 using <code>as.data.table(msr())</code>.</p>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div>
<div class="b64-wrapper"><button class="unlock-btn" onclick="unlockOne(this)">Unlock solution</button><div class="hidden-solution" style="display:none" data-encoded="PGRpdiBjbGFzcz0iY2VsbCIgZGF0YS1sYXlvdXQtYWxpZ249ImNlbnRlciIgZGF0YS1iYXNlNjRlbmNvZGU9InRydWUiPgo8ZGl2IGNsYXNzPSJzb3VyY2VDb2RlIiBpZD0iY2IxIj48cHJlCmNsYXNzPSJzb3VyY2VDb2RlIHIgY2VsbC1jb2RlIj48Y29kZSBjbGFzcz0ic291cmNlQ29kZSByIj48c3BhbiBpZD0iY2IxLTEiPjxhIGhyZWY9IiNjYjEtMSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPjxzcGFuIGNsYXNzPSJjbyI+IyBUcmFpbiBhIGxlYXJuZXI8L3NwYW4+PC9zcGFuPgo8c3BhbiBpZD0iY2IxLTIiPjxhIGhyZWY9IiNjYjEtMiIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmxvZ3JlZyA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+bHJuPC9zcGFuPig8c3BhbiBjbGFzcz0ic3QiPiZxdW90O2NsYXNzaWYubG9nX3JlZyZxdW90Ozwvc3Bhbj4sIDxzcGFuIGNsYXNzPSJhdCI+cHJlZGljdF90eXBlID08L3NwYW4+IDxzcGFuIGNsYXNzPSJzdCI+JnF1b3Q7cHJvYiZxdW90Ozwvc3Bhbj4pPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTMiPjxhIGhyZWY9IiNjYjEtMyIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPmxvZ3JlZzxzcGFuIGNsYXNzPSJzYyI+JDwvc3Bhbj48c3BhbiBjbGFzcz0iZnUiPnRyYWluPC9zcGFuPih0YXNrKTwvc3Bhbj4KPHNwYW4gaWQ9ImNiMS00Ij48YSBocmVmPSIjY2IxLTQiIGFyaWEtaGlkZGVuPSJ0cnVlIiB0YWJpbmRleD0iLTEiPjwvYT48c3BhbiBjbGFzcz0iY28iPiMgR2VuZXJhdGUgcHJlZGljdGlvbnM8L3NwYW4+PC9zcGFuPgo8c3BhbiBpZD0iY2IxLTUiPjxhIGhyZWY9IiNjYjEtNSIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnByZWRfbG9ncmVnIDxzcGFuIGNsYXNzPSJvdCI+PTwvc3Bhbj4gbG9ncmVnPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPjxzcGFuIGNsYXNzPSJmdSI+cHJlZGljdF9uZXdkYXRhPC9zcGFuPih0ZXN0X3NldCk8L3NwYW4+CjxzcGFuIGlkPSJjYjEtNiI+PGEgaHJlZj0iI2NiMS02IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+PHNwYW4gY2xhc3M9ImNvIj4jIEV2YWx1YXRlIHBlcmZvcm1hbmNlIHVzaW5nIEFVQzwvc3Bhbj48L3NwYW4+CjxzcGFuIGlkPSJjYjEtNyI+PGEgaHJlZj0iI2NiMS03IiBhcmlhLWhpZGRlbj0idHJ1ZSIgdGFiaW5kZXg9Ii0xIj48L2E+bWVhc3VyZSA8c3BhbiBjbGFzcz0ib3QiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJmdSI+bXNyczwvc3Bhbj4oPHNwYW4gY2xhc3M9ImZ1Ij5jPC9zcGFuPig8c3BhbiBjbGFzcz0ic3QiPiZxdW90O2NsYXNzaWYuYXVjJnF1b3Q7PC9zcGFuPikpPC9zcGFuPgo8c3BhbiBpZD0iY2IxLTgiPjxhIGhyZWY9IiNjYjEtOCIgYXJpYS1oaWRkZW49InRydWUiIHRhYmluZGV4PSItMSI+PC9hPnByZWRfbG9ncmVnPHNwYW4gY2xhc3M9InNjIj4kPC9zcGFuPjxzcGFuIGNsYXNzPSJmdSI+c2NvcmU8L3NwYW4+KG1lYXN1cmUpPC9zcGFuPjwvY29kZT48L3ByZT48L2Rpdj4KPGRpdiBjbGFzcz0iY2VsbC1vdXRwdXQgY2VsbC1vdXRwdXQtc3Rkb3V0Ij4KPHByZT48Y29kZT5jbGFzc2lmLmF1YyAKICAwLjIzNTE3NTcgPC9jb2RlPjwvcHJlPgo8L2Rpdj4KPC9kaXY+"></div></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="summary" class="level1">
<h1>Summary</h1>
<p>In this exercise sheet we learned how to fit a logistic regression model on a training task and how to assess its performance on unseen test data with the help of <code>mlr3</code>. We showed how to split data manually into training and test data, but in most scenarios it is a call to resample or benchmark. We will learn more on this in the next sections.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/mlr-org\.com\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Created with <i class="bi bi-heart-fill"></i> for #rstats.</p>
</div>   
    <div class="nav-footer-center">
<p>CC BY SA 4.0</p>
</div>
    <div class="nav-footer-right">
<p>Website powered by <a href="https://quarto.org/">quarto</a> and <a href="https://www.netlify.com/">Netlify</a>.</p>
</div>
  </div>
</footer>




</body></html>